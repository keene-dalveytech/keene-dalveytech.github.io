(self.webpackChunk=self.webpackChunk||[]).push([[939],{66133:function(e,n,t){"use strict";var i=t(86378),r=t.n(i),a=t(57518),l=t.n(a),s=t(80899),o=(t(93236),t(62086));n.Z=function(e){var n=Object.assign({},(l()(e),e)),t=n.dropdownStyle?Object.assign({padding:"8px 4px"},n.dropdownStyle):{padding:"8px 4px"};return(0,o.jsx)(s.Z,r()({dropdownStyle:t},n))}},84923:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(93236),r=t(2260),a=t(97016),l="pagination___qS7Hi",s="button___th9PV",o=t(62086);function c(e){var n=e.data,t=e.pageIndex,c=e.setPageIndex,u=e._data,d=(0,i.useMemo)((function(){return t===Math.ceil((null==u?void 0:u.length)/a.I)}),[t,u]);return(0,o.jsxs)("div",{className:l,children:[t>a.Q&&(0,o.jsx)(r.Z,{className:s,type:"c20",onClick:function(){c(t-1)},children:(0,o.jsx)("div",{children:"Prev"})}),n&&n.length>=a.I&&!d&&(0,o.jsx)(r.Z,{className:s,type:"c20",onClick:function(){c(t+1)},children:(0,o.jsx)("div",{children:"Next"})})]})}},70656:function(e,n,t){"use strict";t.d(n,{ET:function(){return d},FB:function(){return l},Qo:function(){return s},VZ:function(){return c},YO:function(){return o},bD:function(){return a},pQ:function(){return u}});var i=t(4051),r=t(34804),a=0,l="Long",s="Short",o="Market",c="Limit",u=((0,r.Jl)(1,30),{"5m":300,"15m":900,"1h":3600,"4h":14400,"1d":86400});function d(e,n){return n?(0,i.jY)(e)+"address/"+n:(0,i.jY)(e)}},24114:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return yl}});var i=t(90967),r=t.n(i),a=t(30577),l=t.n(a),s=t(97810),o=t(93236),c=t(8403),u=t(81009),d=t(24047),p=t.n(d),v=t(86378),m=t.n(v),f=t(72294),y=t.n(f),x=t(58357),g=t.n(x),h=t(71977),_=t.n(h),b=t(84875),j=t.n(b),N=t(57531),P=t(50941),w=t(93263),L=t(34363),T=Object.defineProperty,C=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable,F=(e,n,t)=>n in e?T(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const I=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))S.call(n,t)&&F(e,t,n[t]);if(C)for(var t of C(n))k.call(n,t)&&F(e,t,n[t]);return e})({width:32,height:32,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("rect",{width:32,height:32,rx:16,fill:"url(#eth_logo_svg__a)"}),o.createElement("path",{d:"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z",fill:"#687EE3"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.998 20.46V5L8.88 16.328l7.117 4.131Z",fill:"#fff"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.998 20.46V5l7.117 11.328-7.117 4.131Z",fill:"#F4F4F4"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m15.998 27 7.117-10.108-7.117 4.773-7.118-4.773L15.997 27Z",fill:"#fff"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m8.88 16.328 7.117-3.004v7.135L8.88 16.328Z",fill:"#EEE"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m23.115 16.328-7.117-3.004v7.135l7.117-4.13Z",fill:"#DADADA"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.997 21.665V27l7.118-10.108-7.118 4.773Z",fill:"#EEE"}),o.createElement("defs",null,o.createElement("linearGradient",{id:"eth_logo_svg__a",x1:0,y1:0,x2:39.172,y2:10.86,gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#3CEAAA"}),o.createElement("stop",{offset:.771,stopColor:"#5C72FF"}))));var M=Object.defineProperty,D=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,E=(e,n,t)=>n in e?M(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const R=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))O.call(n,t)&&E(e,t,n[t]);if(D)for(var t of D(n))A.call(n,t)&&E(e,t,n[t]);return e})({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("g",{filter:"url(#more_svg__b)",clipPath:"url(#more_svg__a)"},o.createElement("path",{d:"m16.8 9-4.837 7.2L7.2 9h9.6Z",fill:"#fff"})),o.createElement("defs",null,o.createElement("clipPath",{id:"more_svg__a"},o.createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"})),o.createElement("filter",{id:"more_svg__b",x:3.199,y:9,width:17.6,height:15.2,filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:0,result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:4}),o.createElement("feGaussianBlur",{stdDeviation:2}),o.createElement("feComposite",{in2:"hardAlpha",operator:"out"}),o.createElement("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),o.createElement("feBlend",{in2:"BackgroundImageFix",result:"effect1_dropShadow_313_1951"}),o.createElement("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_313_1951",result:"shape"}))));var z="btn___r1nTS",Q="targetSelect___WQeay",Z="menu___rnv_7",B="menus___KY35b",H="menuItem___wEjP0",V="activeItem___kB1Rj",q=t(62086),U=function(e){var n=e.options,t=e.onChange,i=e.value;return(0,q.jsx)("div",{className:Z,children:(0,q.jsxs)(L.v,{children:[(0,q.jsxs)(L.v.Button,{className:z,children:[(0,q.jsx)(I,{}),(0,q.jsx)("div",{className:Q,children:null==i?void 0:i.name}),(0,q.jsx)(R,{})]}),(0,q.jsx)(L.v.Items,{as:"div",className:B,children:(n||[]).map((function(e,n){return(0,q.jsx)(L.v.Item,{children:function(n){var i=n.active;return(0,q.jsx)("div",{className:j()(H,p()({},V,i)),onClick:function(){t(e)},children:(0,q.jsx)("span",{style:{marginLeft:5},children:e.name})})}},n)}))})]})})},J="tab___AIepu",Y="stats___m5w55",G="periodTab___AU1Sf",K="tabItem___K48RO",W="active___yzxjn",X="statsLabel___h81vX",$="statsValue___haDDX",ee=function(e){var n=e.options,t=e.stats,i=e.value,r=e.className,a=e.onChange;return(0,q.jsxs)("div",{className:j()(J,r),children:[(0,q.jsx)("ul",{className:G,children:n.map((function(e){return(0,q.jsx)("li",{onClick:function(){return a(e.value)},className:j()(K,p()({},W,e.value===i)),children:e.label},e.value)}))}),(0,q.jsxs)("div",{className:j()(Y,null==t?void 0:t.className),children:[(0,q.jsx)("span",{className:X,children:"O"}),(0,q.jsx)("span",{className:$,children:(null==t?void 0:t.O)||"-"}),(0,q.jsx)("span",{className:X,children:"H"}),(0,q.jsx)("span",{className:$,children:(null==t?void 0:t.H)||"-"}),(0,q.jsx)("span",{className:X,children:"L"}),(0,q.jsx)("span",{className:$,children:(null==t?void 0:t.L)||"-"}),(0,q.jsx)("span",{className:X,children:"C"}),(0,q.jsx)("span",{className:$,children:(null==t?void 0:t.C)||"-"})]})]})},ne=t(80283),te=t(63338),ie=t(69033),re=t(66757);var ae=t(70656),le=t(70855),se=t(65146),oe=t(97364),ce=t(52149),ue={main:"main___baTli",chart:"chart___CLGMg",loadingContainer:"loadingContainer___dxaj2",kchart:"kchart___QYDyz",periodTab:"periodTab___cinp7",currentPrice:"currentPrice___wEDGk",header:"header___AT8K5",indexPriceContainer:"indexPriceContainer___vWNqA",priceBox:"priceBox___yHFEN",title:"title___tV3f3",headerRight:"headerRight___fs_Ys",price:"price___e2U86",percentage:"percentage___S6CTj",negative:"negative___R8NaS",positive:"positive___XgCl2"},de=60*-(new Date).getTimezoneOffset(),pe=Object.keys(ae.pQ).map((function(e){return{label:e,value:e}})),ve=function(e,n){return{width:e,height:n,layout:{backgroundColor:"rgba(255, 255, 255, 0)",textColor:"#9597b5",fontFamily:"Relative"},localization:{timeFormatter:function(e){return n=e-de,(0,re.Z)(1e3*n,"dd MMM yyyy, h:mm a");var n}},grid:{vertLines:{visible:!0,color:"rgba(35, 38, 59, 1)",style:2},horzLines:{visible:!0,color:"rgba(35, 38, 59, 1)",style:2}},timeScale:{rightOffset:5,borderVisible:!1,barSpacing:5,timeVisible:!0,fixLeftEdge:!0},priceScale:{borderVisible:!1},crosshair:{horzLine:{color:"#aaa"},vertLine:{color:"#aaa"},mode:0}}},me=function(e){var n,t,i,r,a,s,d,v,f=e.indexPrice,x=(0,o.useRef)(),h=(0,o.useState)(),b=l()(h,2),L=b[0],T=b[1],C=(0,o.useState)(!1),S=l()(C,2),k=S[0],F=S[1],I=(0,o.useState)(),M=l()(I,2),D=M[0],O=M[1],A=(0,o.useState)(),E=l()(A,2),R=E[0],z=E[1],Q=(0,ie.x)().chainId,Z=(0,c.sJ)(ce.O7),B=(0,c.sJ)(ce.tr),H=(0,c.FV)(ce.bI),V=l()(H,2),J=V[0],Y=V[1],G=null===(n=(0,oe.do)(null==J?void 0:J.name))||void 0===n?void 0:n.toLowerCase(),K=(0,le.Ju)([Q,"Chart-period"],"15m"),W=l()(K,2),X=W[0],$=W[1];X in ae.pQ||(X="15m");var re,de=(0,u.ZP)([G&&X?"getKLines":null,G,X],{fetcher:(re=_()(g()().mark((function e(){return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,ne.w_)(G,X);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(){return re.apply(this,arguments)})}),me=de.data,fe=de.isLoading,ye=R&&G&&X?"subscribeKLines":null;(0,w.Z)([ye,G,X],(function(){return ye&&G&&X?(0,ne.fK)({symbol:G,period:X},(function(e){me&&R.update(e)})):function(){}}));var xe,ge=(xe=Z[G])?{Change:xe["24Change"],ChangeRate:xe["24ChangeRate"],Hige:xe["24Height"],Low:xe["24Low"]}:{Change:(0,te.Q6)(0),ChangeRate:(0,te.Q6)(0),Hige:(0,te.Q6)(0),Low:(0,te.Q6)(0)},he=(0,o.useCallback)((function(e){if(e.time){var n,t=y()(e.seriesPrices.values());try{var i=function(){var t=n.value;return T((function(n){return n&&n.time===e.time?n:m()({time:e.time},t)})),"break"};for(t.s();!(n=t.n()).done;){if("break"===i())break}}catch(e){t.e(e)}finally{t.f()}}else T(null)}),[T]);(0,o.useEffect)((function(){var e,n;if(me&&me.length&&!D&&x.current){var t=(0,N.C2)(x.current,ve(null===(e=x.current)||void 0===e?void 0:e.offsetWidth,null===(n=x.current)||void 0===n?void 0:n.offsetHeight));t.subscribeCrosshairMove(he);var i=t.addCandlestickSeries({lineColor:"#5472cc",topColor:"rgba(49, 69, 131, 0.4)",bottomColor:"rgba(42, 64, 103, 0.0)",lineWidth:2,priceLineColor:"#3a3e5e",downColor:"#fa3c58",wickDownColor:"#fa3c58",upColor:"#0ecc83",wickUpColor:"#0ecc83",borderVisible:!1});O(t),z(i)}}),[me]),(0,o.useEffect)((function(){if(D){var e=function(){x.current&&D.resize(x.current.offsetWidth,x.current.offsetHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}}),[D]),(0,o.useEffect)((function(){R&&me&&me.length&&(R.setData(me),k||F(!0))}),[me,R,k]);var _e=(0,o.useMemo)((function(){var e;if(me){var n=L||me[me.length-1];if(n){return{className:j()((e={},p()(e,ue.positive,n.open<=n.close),p()(e,ue.negative,n.open>n.close),e)),O:(0,te.Q6)(n.open).toFixed(2,1),H:(0,te.Q6)(n.high).toFixed(2,1),L:(0,te.Q6)(n.low).toFixed(2,1),C:(0,te.Q6)(n.close).toFixed(2,1)}}}}),[L,me]),be=function(e){return e?e.gt(0)?"+".concat(e.toFixed(2,1)):"".concat(e.toFixed(2,1)):"-"};return(0,q.jsxs)("div",{className:ue.main,children:[(0,q.jsxs)("div",{className:ue.header,children:[(0,q.jsxs)("div",{className:ue.indexPriceContainer,children:[J?(0,q.jsx)(U,{options:B||[],value:J,onChange:function(e){return Y(m()({},e))},chainId:Q}):null,(0,q.jsxs)("div",{className:ue.currentPrice,children:["$",null!=f?f:se.P]})]}),(0,q.jsx)("div",{className:ue.headerRight,children:[{title:"24h Change",text:"".concat(be(null==ge?void 0:ge.Change)," ").concat(be(null==ge?void 0:ge.ChangeRate),"%"),className:j()(ue.percentage,(r={},p()(r,ue.positive,null==ge||null===(t=ge.Change)||void 0===t?void 0:t.gt(0)),p()(r,ue.negative,null==ge||null===(i=ge.Change)||void 0===i?void 0:i.lt(0)),r))},{title:"24h High",text:null!==(a=null==ge||null===(s=ge.Hige)||void 0===s?void 0:s.toFixed(2,1))&&void 0!==a?a:se.P,className:ue.price},{title:"24h Low",text:null!==(d=null==ge||null===(v=ge.Low)||void 0===v?void 0:v.toFixed(2,1))&&void 0!==d?d:se.P,className:ue.price}].map((function(e,n){return(0,q.jsxs)("div",{className:ue.priceBox,children:[(0,q.jsx)("span",{className:ue.title,children:e.title}),(0,q.jsx)("span",{className:"".concat(ue.text," ").concat(e.className),children:e.text})]},n)}))})]}),(0,q.jsxs)("div",{className:ue.kchart,children:[(0,q.jsx)(ee,{stats:_e,className:ue.periodTab,value:X,onChange:$,options:pe}),(0,q.jsx)("div",{className:ue.chart,ref:x,children:(0,q.jsx)("div",{className:ue.loadingContainer,children:fe&&(0,q.jsx)(P.Z,{size:"large"})})})]})]})},fe=t(14557),ye=t.n(fe),xe=t(39712),ge=t.n(xe),he=t(64698),_e=t.n(he),be=t(62898),je=t.n(be),Ne=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"_market","type":"address"},{"internalType":"address","name":"_account","type":"address"},{"internalType":"bool","name":"_isLong","type":"bool"}],"name":"availableLiquidity","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_market","type":"address"},{"internalType":"bool","name":"_isLong","type":"bool"}],"name":"getFundingFee","outputs":[{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_market","type":"address"},{"internalType":"bool","name":"_isLong","type":"bool"}],"name":"getFundingRate","outputs":[{"internalType":"int256","name":"","type":"int256"},{"internalType":"int256","name":"","type":"int256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_marketAddr","type":"address"}],"name":"getMarket","outputs":[{"components":[{"internalType":"uint256","name":"minSlippage","type":"uint256"},{"internalType":"uint256","name":"maxSlippage","type":"uint256"},{"internalType":"uint256","name":"slippageDigits","type":"uint256"},{"internalType":"uint256","name":"minLev","type":"uint256"},{"internalType":"uint256","name":"maxLev","type":"uint256"},{"internalType":"uint256","name":"minCollateral","type":"uint256"},{"internalType":"uint256","name":"maxTradeAmount","type":"uint256"},{"internalType":"bool","name":"allowOpen","type":"bool"},{"internalType":"bool","name":"allowClose","type":"bool"}],"internalType":"struct IMarketReader.ValidOuts","name":"validOuts","type":"tuple"},{"components":[{"internalType":"uint256","name":"tokenDigits","type":"uint256"},{"internalType":"uint256","name":"closeFeeRate","type":"uint256"},{"internalType":"uint256","name":"openFeeRate","type":"uint256"},{"internalType":"uint256","name":"liquidationFeeUsd","type":"uint256"},{"internalType":"uint256","name":"spread","type":"uint256"},{"internalType":"address","name":"indexToken","type":"address"},{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"address","name":"vault","type":"address"},{"internalType":"address","name":"marketAddressesProvider","type":"address"},{"internalType":"address","name":"orderBookLong","type":"address"},{"internalType":"address","name":"orderBookShort","type":"address"},{"internalType":"address","name":"positionBook","type":"address"}],"internalType":"struct IMarketReader.MarketOuts","name":"mktOuts","type":"tuple"},{"components":[{"internalType":"uint256","name":"closeFeeRate","type":"uint256"},{"internalType":"uint256","name":"openFeeRate","type":"uint256"},{"internalType":"uint256","name":"execFee","type":"uint256"},{"internalType":"uint256","name":"liquidateFee","type":"uint256"},{"internalType":"uint256","name":"digits","type":"uint256"}],"internalType":"struct IMarketReader.FeeOuts","name":"feeOuts","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_account","type":"address"},{"internalType":"address","name":"_market","type":"address"}],"name":"getPositions","outputs":[{"components":[{"internalType":"uint256","name":"size","type":"uint256"},{"internalType":"uint256","name":"collateral","type":"uint256"},{"internalType":"uint256","name":"averagePrice","type":"uint256"},{"internalType":"int256","name":"entryFundingRate","type":"int256"},{"internalType":"uint256","name":"realisedPnl","type":"uint256"},{"internalType":"bool","name":"hasProfit","type":"bool"},{"internalType":"uint256","name":"lastTime","type":"uint256"},{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"uint256[]","name":"orderIDs","type":"uint256[]"}],"internalType":"struct IMarketReader.PositionOuts[]","name":"_positions","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_mkt","type":"address"},{"internalType":"address","name":"_user","type":"address"}],"name":"getUserFee","outputs":[{"components":[{"internalType":"uint256","name":"openFee","type":"uint256"},{"internalType":"uint256","name":"closeFee","type":"uint256"},{"internalType":"int256","name":"fundFee","type":"int256"},{"internalType":"uint256","name":"liquidateFee","type":"uint256"},{"internalType":"uint256","name":"execFee","type":"uint256"}],"internalType":"struct IMarketReader.UserFeeOuts","name":"_outs","type":"tuple"}],"stateMutability":"view","type":"function"}]}'),Pe=t(58484),we=t(89617),Le=t.n(we),Te=JSON.parse('{"Mt":[{"inputs":[{"internalType":"string","name":"_name","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"bool","name":"isIncrease","type":"bool"},{"indexed":false,"internalType":"uint256","name":"orderID","type":"uint256"},{"indexed":false,"internalType":"address","name":"market","type":"address"},{"indexed":false,"internalType":"uint8","name":"reason","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"}],"name":"DeleteOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"previousAdminRole","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"newAdminRole","type":"bytes32"}],"name":"RoleAdminChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleGranted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"role","type":"bytes32"},{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":true,"internalType":"address","name":"sender","type":"address"}],"name":"RoleRevoked","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"bool","name":"isIncrease","type":"bool"},{"indexed":false,"internalType":"uint256","name":"orderID","type":"uint256"},{"indexed":false,"internalType":"address","name":"market","type":"address"},{"indexed":false,"internalType":"uint256","name":"size","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"collateral","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"triggerPrice","type":"uint256"},{"indexed":false,"internalType":"bool","name":"triggerAbove","type":"bool"},{"indexed":false,"internalType":"uint256","name":"tp","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"sl","type":"uint256"}],"name":"UpdateOrder","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"int256","name":"collateralDelta","type":"int256"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"int256","name":"pnl","type":"int256"},{"components":[{"internalType":"int256","name":"_totoalFees","type":"int256"},{"internalType":"int256","name":"_execFee","type":"int256"},{"internalType":"int256","name":"_fundFee","type":"int256"},{"internalType":"int256","name":"_tradeFee","type":"int256"}],"indexed":false,"internalType":"struct MarketStorage.FeesVars","name":"fees","type":"tuple"},{"indexed":false,"internalType":"address","name":"market","type":"address"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"category","type":"uint256"},{"indexed":false,"internalType":"bool","name":"fromOrder","type":"bool"}],"name":"UpdatePosition","type":"event"},{"inputs":[],"name":"DEFAULT_ADMIN_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ROLE_FACTORY","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"ROLE_POS_KEEPER","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"_isIncrease","type":"bool"},{"internalType":"uint256","name":"_orderID","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"}],"name":"cancelOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool[]","name":"_isIncreaseList","type":"bool[]"},{"internalType":"uint256[]","name":"_orderIDList","type":"uint256[]"},{"internalType":"bool[]","name":"_isLongList","type":"bool[]"}],"name":"cancelOrderList","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"collateralToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"},{"internalType":"bool","name":"","type":"bool"}],"name":"decreaseCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_isLimit","type":"bool"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"bool","name":"_isKeepLev","type":"bool"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"uint256","name":"_slippage","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"bytes32","name":"refCode","type":"bytes32"}],"name":"decreaseTrade","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_isLimit","type":"bool"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"bool","name":"_isKeepLev","type":"bool"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"uint256","name":"_slippage","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"bytes32","name":"refCode","type":"bytes32"}],"name":"decreaseTrade2","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_orderKey","type":"bytes32"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"bool","name":"_isIncrease","type":"bool"}],"name":"execOrderKey","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"feeRouter","outputs":[{"internalType":"contract IFeeRouter","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"}],"name":"getRoleAdmin","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"grantRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"hasRole","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_collateralDelta","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"}],"name":"increaseCollateral","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"_isLimit","type":"bool"},{"internalType":"uint256","name":"_payDelta","type":"uint256"},{"internalType":"uint256","name":"_sizeDelta","type":"uint256"},{"internalType":"uint256","name":"_price","type":"uint256"},{"internalType":"uint256","name":"_tpPrice","type":"uint256"},{"internalType":"uint256","name":"_slPrice","type":"uint256"},{"internalType":"uint256","name":"_slippage","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"bytes32","name":"refCode","type":"bytes32"}],"name":"increaseTrade","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"indexToken","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_positionBook","type":"address"},{"internalType":"contract IOrderBook","name":"_orderBookLong","type":"address"},{"internalType":"contract IOrderBook","name":"_orderBookShort","type":"address"},{"internalType":"address","name":"_addressProvider","type":"address"},{"internalType":"address","name":"_indexToken","type":"address"},{"internalType":"address","name":"_feeRouter","type":"address"},{"internalType":"address","name":"_feeVault","type":"address"},{"internalType":"address","name":"_marketRouter","type":"address"},{"internalType":"address","name":"_vault","type":"address"},{"internalType":"address","name":"_vaultRouter","type":"address"},{"internalType":"address","name":"_collateralToken","type":"address"}],"name":"initialize","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"_key","type":"bytes32"},{"internalType":"bool","name":"_isLong","type":"bool"}],"name":"isLiquidate","outputs":[{"internalType":"uint256","name":"_state","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bool","name":"","type":"bool"}],"name":"liquidatePosition","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32[]","name":"keys","type":"bytes32[]"},{"internalType":"bool","name":"isLong","type":"bool"}],"name":"liquidatePositionByKey","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"market2","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"marketAddressesProvider","outputs":[{"internalType":"contract IMarketAddressesProvider","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"orderBookLong","outputs":[{"internalType":"contract IOrderBook","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"orderBookShort","outputs":[{"internalType":"contract IOrderBook","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"positionBook","outputs":[{"internalType":"contract IPositionBook","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"renounceRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"role","type":"bytes32"},{"internalType":"address","name":"account","type":"address"}],"name":"revokeRole","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_m","type":"address"}],"name":"setMarket2","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"isLong","type":"bool"},{"internalType":"address","name":"ob","type":"address"}],"name":"setOrderBook","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_r","type":"address"}],"name":"setRef","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_spread","type":"uint256"}],"name":"setSpread","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"spread","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderID","type":"uint256"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"bytes32","name":"refCode","type":"bytes32"}],"name":"updateDecreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_orderID","type":"uint256"},{"internalType":"uint256","name":"_triggerPrice","type":"uint256"},{"internalType":"uint256","name":"_tpPrice","type":"uint256"},{"internalType":"uint256","name":"_slPrice","type":"uint256"},{"internalType":"bool","name":"_isLong","type":"bool"},{"internalType":"bytes32","name":"refCode","type":"bytes32"}],"name":"updateIncreaseOrder","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"vault","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"}]}'),Ce=t(34804),Se=t(59387),ke="0.003",Fe=function(e){_e()(f,e);var n,t,i,r,a,l,s,o,c,u,d,v,m=je()(f);function f(e,n,t,i,r,a){var l;return ye()(this,f),l=m.call(this,e,n,Te.Mt,t),p()(Le()(l),"_args",void 0),p()(Le()(l),"_valid",void 0),p()(Le()(l),"_fee",void 0),p()(Le()(l),"_ctoken",void 0),l._args=i,l._valid=r,l._fee=a,l._ctoken=new Se.a(l._library,n,i.collateralToken,void 0),l}return ge()(f,[{key:"getClassName",value:function(){return"Market"}},{key:"getCollateralToken",value:function(){return this._ctoken}},{key:"getOpenFeeRate",value:function(){var e;return null!==(e=this.formatFeeOrRate(this._fee.openFeeRate))&&void 0!==e?e:ke}},{key:"getCloseFeeRate",value:function(){var e;return null!==(e=this.formatFeeOrRate(this._fee.closeFeeRate))&&void 0!==e?e:ke}},{key:"getExecFee",value:function(){return this.formatNum(this._fee.execFee)}},{key:"getCleanFee",value:function(){var e;return this.formatNum(null===(e=this._fee)||void 0===e?void 0:e.liquidateFee)}},{key:"getSlippageDecimals",value:function(e){var n=4;return this._valid.slippageDigits.isZero()||(n=this._valid.slippageDigits.toNumber()),(0,Ce.H2)(e,n)}},{key:"getFeeDecimals",value:function(e){return(0,Ce.H2)(e,8)}},{key:"getNumDecimals",value:function(e){var n=18;return this._args.tokenDigits.isZero()||(n=this._args.tokenDigits.toNumber()),(0,Ce.H2)(e,n)}},{key:"parseNumber",value:function(e,n){return(0,Ce.H2)(e,n)}},{key:"getPriceDecimals",value:function(e){return(0,Ce.H2)(e,30)}},{key:"formatPrice",value:function(e){return(0,Ce.dN)(e,30)}},{key:"getTokenDigits",value:function(){return this._args.tokenDigits.toNumber()}},{key:"formatNum",value:function(e,n,t,i){return(0,Ce.dN)(e,this._args.tokenDigits.toNumber(),n,t,i)}},{key:"formatFeeOrRate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return(0,Ce.dN)(e,n)}},{key:"formatPercentage",value:function(e){return(0,Ce.H2)(e,2)}},{key:"allowance",value:(v=_()(g()().mark((function e(n){var t;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCollateralToken().allowance(n,this._address);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"approve",value:(d=_()(g()().mark((function e(n,t,i){var r,a;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Se.a(this._library,this._chainId,this._args.collateralToken,void 0),e.next=3,r.allowance(n,this._address);case 3:if(!e.sent.lt(t)&&!i){e.next=9;break}return a=(0,Ce._b)(1e3),e.next=8,r.approve(this._address,t.mul(a));case 8:return e.abrupt("return",e.sent);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,t){return d.apply(this,arguments)})},{key:"increaseTrade",value:(u=_()(g()().mark((function e(n,t,i,r){var a;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("userReferrerCode",t),e.next=3,this.approve(n.account,i);case 3:if(!e.sent){e.next=9;break}return e.next=7,this.send("increaseTrade",[n.isLimit,n.payDelta,n.sizeDelta,n.price,n.tpPrice,n.slPrice,n.slippage,n.isLong,t],r);case 7:return a=e.sent,e.abrupt("return",a);case 9:return e.abrupt("return",Promise.resolve(""));case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,t,i){return u.apply(this,arguments)})},{key:"decreaseTrade",value:(c=_()(g()().mark((function e(n,t){var i;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("decreaseTrade",[n.isLimit,n.sizeDelta,n.isKeepLev,n.price,n.slippage,n.isLong,t]);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return c.apply(this,arguments)})},{key:"increaseCollateral",value:(o=_()(g()().mark((function e(n,t){var i;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("increaseCollateral",[n,t]);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return o.apply(this,arguments)})},{key:"decreaseCollateral",value:(s=_()(g()().mark((function e(n,t){var i;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("decreaseCollateral",[(0,Ce._b)(n),t]);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return s.apply(this,arguments)})},{key:"updateIncreaseOrder",value:(l=_()(g()().mark((function e(n,t,i,r,a){var l;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("updateIncreaseOrder",[n,t,i,r,a]);case 2:return l=e.sent,e.abrupt("return",l);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n,t,i,r){return l.apply(this,arguments)})},{key:"updateDecreaseOrder",value:(a=_()(g()().mark((function e(n,t,i){var r;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("updateDecreaseOrder",[n,t,i]);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n,t){return a.apply(this,arguments)})},{key:"cancelOrder",value:(r=_()(g()().mark((function e(n,t,i){var r;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("cancelOrder",[n,t,i]);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n,t){return r.apply(this,arguments)})},{key:"cancelOrderList",value:(i=_()(g()().mark((function e(n,t,i){var r;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.send("cancelOrderList",[n,t,i]);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n,t){return i.apply(this,arguments)})},{key:"getCtokenDecimals",value:(t=_()(g()().mark((function e(){var n,t,i;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=this._ctoken)||void 0===n||null===(t=n._contract)||void 0===t?void 0:t.decimals();case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"formatCToken",value:(n=_()(g()().mark((function e(n){var t;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getCtokenDecimals();case 2:return t=e.sent,e.abrupt("return",(0,Ce.dN)(n,t));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})}]),f}(Pe.k),Ie=function(e){_e()(s,e);var n,t,i,r,a,l=je()(s);function s(e,n){return ye()(this,s),l.call(this,e,n,Ne.Mt)}return ge()(s,[{key:"getClassName",value:function(){return"MarketReader"}},{key:"getMarket",value:(a=_()(g()().mark((function e(n){var t,i;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("getMarket",n);case 2:return t=e.sent,i=new Fe(this._library,this._chainId,n,t.mktOuts,t.validOuts,t.feeOuts),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getFundingRate",value:(r=_()(g()().mark((function e(n,t){var i;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("getFundingRate",n,t);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n){return r.apply(this,arguments)})},{key:"getFundingFee",value:(i=_()(g()().mark((function e(n,t,i){var r;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("getFundingFee",n,t,i);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,n,t){return i.apply(this,arguments)})},{key:"getPositions",value:(t=_()(g()().mark((function e(n,t){var i;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("getPositions",n,t);case 2:return null==(i=e.sent)||i.forEach((function(e){e.realisedPnl.mul(e.hasProfit?1:-1)})),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"availableLiquidity",value:(n=_()(g()().mark((function e(n,t,i){var r;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call("availableLiquidity",t,n,i);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,i){return n.apply(this,arguments)})}]),s}(Pe.k),Me=function(){var e=_()(g()().mark((function e(n,t,i,r,a,l,s){var o,c,u;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new Ie(l,i),e.next=3,o.getMarket(r);case 3:return(c=e.sent).setChainId(i),c.setPendingTxns(t),u=m()(m()({},{accountAddress:"",isLimit:!1,isLong:!0,price:"0",amount:"0",size:"0",pay:"0",leverage:"10",entryPrice:"0",liqPrice:"0",positionFee:"0",executionFee:"0",fundFeeRate:"0",availableLiquidity:"0",slippage:"0.3",openFeeRate:"0",closeFeeRate:"0",Positions:[],Orders:[],Trades:[]}),{},{symbol:(0,oe.D4)(a),accountAddress:s,reader:o,market:c,library:l,marketName:a}),e.next=9,De(u,n);case 9:return u=e.sent,e.abrupt("return",u);case 11:case"end":return e.stop()}}),e)})));return function(n,t,i,r,a,l,s){return e.apply(this,arguments)}}();function De(e,n){return Oe.apply(this,arguments)}function Oe(){return(Oe=_()(g()().mark((function e(n,t){var i,r;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.entryPrice=t,!n.market){e.next=22;break}return e.prev=2,e.next=5,n.market.getCtokenDecimals();case 5:n.ctokenDecimals=e.sent,n.openFeeRate=n.market.getOpenFeeRate(),n.closeFeeRate=n.market.getCloseFeeRate(),n.executionFee=n.market.getExecFee(),n.cleanFee=null==n||null===(i=n.market)||void 0===i?void 0:i.getCleanFee(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("getDefaultSwap",e.t0);case 15:if(!n.accountAddress){e.next=22;break}return e.next=18,n.market.getCollateralToken().balanceOf(n.accountAddress);case 18:return r=e.sent,e.next=21,n.market.formatCToken(r);case 21:n.avlb=e.sent;case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}var Ae={getEstimatedPNL:function(e){var n=e.isLong,t=e.entryPrice,i=e.price,r=e.size,a=n?1:-1;return(0,te.Q6)(a).multipliedBy(i.minus(t)).multipliedBy(r).dividedBy(t)},getEntryPriceDisplay:function(e,n,t,i){var r=(0,te.Q6)((null==i?void 0:i.averagePrice)||0),a=e;if(i){var l=n.plus(i.size||0);a=e.multipliedBy(l).dividedBy(l[t?"plus":"minus"]((0,te.Q6)((null==i?void 0:i.PNL)||0)))}return{rise:a.minus(r).toNumber(),mergePositionPrice:a,existingPositionPrice:r}},getFeeRate:function(e,n){return(0,te.Q6)(1).dividedBy(n).plus(e)},getExecFee:function(e){return(0,te.Q6)(e)},getFundFee:function(e,n){return _()(g()().mark((function t(){var i,r,a;return g()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null==e||null===(i=e.reader)||void 0===i?void 0:i.getFundingFee(null==e?void 0:e.accountAddress,null==e||null===(r=e.market)||void 0===r?void 0:r._address,n);case 2:return a=t.sent,t.abrupt("return",e.market.formatNum(a));case 4:case"end":return t.stop()}}),t)})))()},getFundFeeRete:function(e,n){return _()(g()().mark((function t(){var i,r;return g()().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.reader.getFundingRate(e.market._address,n);case 2:return i=t.sent,r=e.market.formatFeeOrRate(null==i?void 0:i[0]),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},getFundFeeRateLimit:function(e,n){var t;if(!e)return"0";var i=(0,te.Q6)("0.0000208333"),r=i;return(0,te.Q6)(e).abs().minus(i).gt(0)&&(r=r.multipliedBy(n?1:-1)),null===(t=r)||void 0===t?void 0:t.toString()},getFundFeeRateDisplay:function(e,n){if(!e)return"-";var t=(0,te.Q6)("0.0000208333"),i=(0,te.Q6)(e),r=t.multipliedBy(100);return i.abs().minus(t).gt(0)&&(r=i.multipliedBy(100).multipliedBy(n?1:-1)),r.toFixed(4,1)},getConfirmStat:function(e){var n=e.pay,t=e.openFee,i=e.executionFee,r=e.size,a=e.leverageOption,l=e.existingPosition,s=e.hasExistingPosition,o=e.cleanFee;return{getCollateralDisplay:function(){var e=n.minus(t).minus(i),r=e;return s&&l&&(r=(0,te.Q6)(l.initialCollateral).minus((0,te.Q6)(l.fundingFee||0)).plus(n).minus(t).minus(i)),{rise:r.minus(e).toNumber(),mergePositionPrice:r,existingPositionPrice:(0,te.Q6)(null==l?void 0:l.collateral)}},getLigPriceDisplay:function(e,n,t,i){var r=(0,te.Q6)((null==l?void 0:l.liqPrice)||"0"),a=Ae.getNextLiqPrice({size:this.getNextSizeDisplay().mergePositionPrice,collateral:this.getCollateralDisplay().mergePositionPrice,isLong:t,fundingFee:(0,te.Q6)((null==l?void 0:l.fundingFee)||0),positionFeeRate:i,entryPrice:e,maxLeverage:n,cleanFee:o});return{rise:a.minus(r).toNumber(),existingPositionPrice:r,mergePositionPrice:a}},getLeverageDisplay:function(){var e=(0,te.Q6)(a);if(!s)return{rise:0,existingPositionPrice:e,mergePositionPrice:e};var n=this.getCollateralDisplay(),t=this.getNextSizeDisplay().mergePositionPrice.dividedBy(n.mergePositionPrice);return{rise:t.minus(e).toNumber(),existingPositionPrice:(0,te.Q6)((null==l?void 0:l.leverage)||"0"),mergePositionPrice:t}},getNextSizeDisplay:function(){var e=(0,te.Q6)(s&&(null==l?void 0:l.size)||0),n=r.plus(e),t=l?e:n;return{existingPositionPrice:t,mergePositionPrice:n,rise:n.minus(t).toNumber()}}}},getNextLiqPrice:function(e,n){var t=e.size,i=e.entryPrice,r=e.isLong,a=e.positionFeeRate,l=e.fundingFee,s=e.maxLeverage,o=e.collateral,c=e.amount,u=e.cleanFee;if(t.eq(0))return(0,te.Q6)(0);null==s&&(s=(0,te.Q6)(200)),null==c&&(c=(0,te.Q6)(0));var d=t.dividedBy(s||30),p="".concat(t.toNumber(),"/").concat(s||30,"}");u.gt(d)&&(d=u,p="5");var v=t.multipliedBy(a||0),m="".concat(t.toNumber()," * ").concat(null==a?void 0:a.toNumber()),f=t.minus(o).plus(l).plus(v).plus(d),y="".concat(t.toNumber()," - ").concat(o.toNumber()," + ").concat(l.toNumber(),"+ ").concat(m," + ").concat(p);r||(f=t.plus(o).minus(l).minus(v).minus(d),y="".concat(t.toNumber()," + ").concat(o.toNumber()," - ").concat(l.toNumber()," - ").concat(m," - ").concat(p)),null!=c&&f[r?"minus":"plus"](c);var x=f.dividedBy(t).multipliedBy(i);return n&&console.log(n,"(".concat(y,")/").concat(t.toNumber(),"*").concat(i.toNumber())),x},getCoinBasedSizeByUSD:function(e,n){return e.dividedBy(n)},getNextPay:function(e,n,t,i){return(0,te.Q6)(e).multipliedBy(Ae.getFeeRate(t,i)).multipliedBy((0,te.Q6)(n))},getNextAmount:function(e,n,t,i){return e.gt(0)&&n.gt(0)?e.dividedBy(Ae.getFeeRate(t,i)).dividedBy(n):(0,te.Q6)(0)},getSize:function(e,n,t){return e.gt(0)?(0,te.Q6)(e).dividedBy(Ae.getFeeRate(n,t)):(0,te.Q6)(0)},getPayBySize:function(e,n,t){return!e||e.eq(0)?(0,te.Q6)(0):e.multipliedBy(Ae.getFeeRate(n,t))},getOpenFee:function(e,n){return e.multipliedBy(n)}},Ee=t(1463),Re=t(87983),ze="trade____bxq4",Qe=t(59277),Ze=t(71609),Be=t(94687),He=function(e){return null!=e&&e.length?"("+((null==e?void 0:e.length)>=99?"99+":e.length)+")":""},Ve=function(){var e=_()(g()().mark((function e(n){var t,i,r,a,l,s,o,c,u,d,p,v,f,y,x;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n.accountAddress&&""!=n.accountAddress){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,n.reader.getPositions(n.accountAddress,n.market._address);case 4:r=e.sent,a=n.openFeeRate,l=n.executionFee,s=[],r=null===(t=r)||void 0===t||null===(i=t.filter((function(e){return+e.size>0})))||void 0===i?void 0:i.sort((function(e,n){var t,i;return+(null==n||null===(t=n.lastTime)||void 0===t?void 0:t.toString())-+(null==e||null===(i=e.lastTime)||void 0===i?void 0:i.toString())})),o=0;case 10:if(!(o<r.length)){e.next=22;break}return e.next=13,Ae.getFundFee(n,null===(c=r[o])||void 0===c?void 0:c.isLong);case 13:return f=e.sent,e.next=16,Ae.getFundFeeRete(n,null===(u=r)||void 0===u||null===(d=u[o])||void 0===d?void 0:d.isLong);case 16:y=e.sent,x=Ae.getFundFeeRateLimit(y,null===(p=r)||void 0===p||null===(v=p[o])||void 0===v?void 0:v.isLong),s.push(qe(n,m()(m()({},r[o]),{},{fundingFee:f,fundFeeRate:x}),n.accountAddress,a,l));case 19:o++,e.next=10;break;case 22:return e.abrupt("return",s);case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function qe(e,n,t,i,r){var a=e.market;try{var l,s=m()(m()({},n),{},{market:null==a?void 0:a._address,account:t,isLong:n.isLong,size:a.formatNum(n.size),collateral:"0",averagePrice:a.formatPrice(n.averagePrice),fundingFee:(null==n?void 0:n.fundingFee)||"0",realisedPnl:a.formatNum(n.realisedPnl),hasProfit:n.hasProfit,lastTime:n.lastTime,pair:e.marketName,side:n.isLong?"Long":"Short",leverage:"",netValue:"0",PNL:"0",PNLRate:"0",liqPrice:"0",initialCollateral:a.formatNum(n.collateral),fundFeeDay:"0",openCloseFees:"0",PNLAfterFees:"0",orderIDs:null==n?void 0:n.orderIDs,feeRate:i,executionFee:r});s.collateral=(0,te.Q6)(s.initialCollateral).minus(s.fundingFee).toString(),s.leverage="0"===s.collateral?"0":(0,te.Q6)(s.size).dividedBy(s.collateral).toString();var o=null==e?void 0:e.openFeeRate,c=null==a||null===(l=a._valid)||void 0===l?void 0:l.maxLev,u=(0,te.Q6)((null==c?void 0:c.toNumber())||100),d=(0,te.Q6)(null==e?void 0:e.cleanFee);return s.liqPrice=Ue(s,i,u,(0,te.Q6)(o),d),s}catch(e){console.log("convertRow",e)}return{}}function Ue(e,n,t,i,r,a){var l,s=e.fundingFee,o=e.isLong,c=e.collateral,u=e.size,d=(0,te.Q6)(u).multipliedBy(n);return e.positionFee=d.toString(),null===(l=Ae.getNextLiqPrice({size:(0,te.Q6)(u),collateral:(0,te.Q6)(c),isLong:o,fundingFee:(0,te.Q6)(s),positionFeeRate:i,entryPrice:(0,te.Q6)(null==e?void 0:e.averagePrice),maxLeverage:t,cleanFee:r},a))||void 0===l?void 0:l.toString()}function Je(e,n,t){var i=(0,te.Q6)(e.initialCollateral),r=(0,te.Q6)(e.indexPrice),a=(0,te.Q6)(e.averagePrice),l=(0,te.Q6)(e.size),s=(0,te.Q6)(e.isLong?1:-1).multipliedBy(r.minus(a)).multipliedBy(l).dividedBy(a);e.PNL=s.toString(),function(e,n,t){var i,r,a,l,s=(0,te.Q6)(e.size),o=(0,te.Q6)(n),c=s.multipliedBy(o).multipliedBy(2);e.openCloseFee=null===(i=s.multipliedBy(o).multipliedBy(1))||void 0===i?void 0:i.toString(),e.fundFeeDay=s.multipliedBy(t).multipliedBy(24).toString(),e.PNLAfterFees=null===(r=(0,te.Q6)(null==e?void 0:e.PNL).minus(c).minus((0,te.Q6)(null==e?void 0:e.fundingFee)))||void 0===r?void 0:r.toString(),e.pnlAfterFeesRate=null===(a=(0,te.Q6)(null==e?void 0:e.PNLAfterFees).div((0,te.Q6)(null==e?void 0:e.initialCollateral)))||void 0===a||null===(l=a.multipliedBy(100))||void 0===l?void 0:l.toString()}(e,n,t);var o=i.plus(s).minus(null==e?void 0:e.fundingFee).minus(null==e?void 0:e.openCloseFee);return e.PNLRate=s.div(i).multipliedBy(100).toString(),e.netValue=o.toString(),s.toString()}var Ye=(0,c.cn)({key:"coinBased",default:void 0}),Ge=(0,c.nZ)({key:"isCoinBased",get:function(e){return"USD"!==(0,e.get)(Ye)}}),Ke=(0,c.cn)({key:"Position",default:[]}),We=(0,c.cn)({key:"Orders",default:[]}),Xe=(0,c.cn)({key:"Trades",default:[]}),$e=(0,c.cn)({key:"isHideOtherPairsAtom",default:!1}),en=(0,c.nZ)({key:"positionSelector",get:function(e){var n=e.get,t=n(ce.O7);return n(Ke).filter((function(e){var t;return!n($e)||e.pair===(null===(t=n(ce.bI))||void 0===t?void 0:t.name)})).map((function(e){var n,i,r=m()(m()({},e),{},{indexPrice:(0,Be.Z)(t)?"-":null===(n=t[(0,oe.do)(e.pair).toLowerCase()])||void 0===n||null===(i=n.indexPrice)||void 0===i?void 0:i.toString()});return Je(r,null==e?void 0:e.feeRate,null==e?void 0:e.fundFeeRate),r}))}}),nn=(0,c.nZ)({key:"ordersSelector",get:function(e){var n=e.get,t=n(ce.O7);return n(We).filter((function(e){var t;return!n($e)||e.pair===(null===(t=n(ce.bI))||void 0===t?void 0:t.name)})).map((function(e){var n,i;return m()(m()({},e),{},{indexPrice:(0,Be.Z)(t)?"-":null===(n=t[(0,oe.do)(e.pair).toLowerCase()])||void 0===n||null===(i=n.indexPrice)||void 0===i?void 0:i.toString()})}))}}),tn=(0,c.nZ)({key:"tradeSelector",get:function(e){var n=e.get;return n(Xe).filter((function(e){var t;return!n($e)||e.pair===(null===(t=marketSelection)||void 0===t?void 0:t.name)}))}}),rn=(0,c.nZ)({key:"positionCountSelector",get:function(e){var n=e.get;return He(n(Ke))}}),an=(0,c.nZ)({key:"orderCount",get:function(e){var n=e.get;return He(n(We))}}),ln=t(84923),sn=t(97016),on="colorGrn___KLrrw",cn="colorRed___dWF0l",un=function(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return+e>=0?(0,q.jsx)("span",{className:j()(p()({},on,t)),children:"".concat((0,te.dp)(e).display({prefix:"+$"}),"(").concat((0,te.dp)(n).display({prefix:"+",suffix:"%"}),")")}):(0,q.jsx)("span",{className:j()(p()({},cn,t)),children:"".concat((0,te.dp)(Math.abs(+e)).display({prefix:"-$"}),"(").concat((0,te.dp)(Math.abs(+n)).display({prefix:"-",suffix:"%"}),")")})},dn="card___tsQVf",pn="overlay___ZUkbJ",vn="text___k9r6s",mn="table___aXY5t",fn="colorGrn___kLWyZ",yn="colorRed___i8TYm",xn="containerH5___PZhTu",gn="orderListItem___HY67m",hn="pair___pZNcc",_n="pairLeft___iDcUx",bn="pos___M0sff",jn="limit___uwUie",Nn="orderListItemContent___Nz2ZH",Pn="label___RLBGg",wn="long___fQO97",Ln="short___X_7_i",Tn=function(e){var n=e.data;return(0,q.jsx)("div",{className:xn,children:n.map((function(e){var n;return(0,q.jsxs)("div",{className:gn,children:[(0,q.jsxs)("div",{className:hn,children:[(0,q.jsxs)("div",{className:_n,children:[(0,q.jsx)("div",{children:e.market}),(0,q.jsx)("div",{className:j()(bn,(n={},p()(n,wn,e.isLong),p()(n,Ln,!e.isLong),n)),children:e.isLong?"Long":"Short"})]}),(0,q.jsx)("div",{className:jn,children:(0,q.jsx)(Ze._H,{id:"Limit"})})]}),[{renderTitle:function(){return(0,q.jsx)(Ze._H,{id:"Size"})},value:(0,te.dp)(e.size,2).display()},{renderTitle:function(){return(0,q.jsx)(Ze._H,{id:"Collateral"})},value:(0,te.dp)(e.collateral,2).display({prefix:null!=e&&e.isIncrease?"+$":"-$"})},{renderTitle:function(){return(0,q.jsx)(Ze._H,{id:"Price"})},value:e.fromOrder?(0,te.dp)(e.price).display({prefix:e.triggerAbove?">$":"<$"}):(0,te.dp)(e.price).display()},{renderTitle:function(){return"PNL"},value:+(null==e?void 0:e.PNL)>0?un(null==e?void 0:e.PNL,(Math.floor(1e4*+(null==e?void 0:e.PNLRate))/100).toString()):"-"},{renderTitle:function(){return(0,q.jsx)(Ze._H,{id:"Time"})},value:(0,se.m)(null==e?void 0:e.timestamp)||""},{renderTitle:function(){return(0,q.jsx)(Ze._H,{id:"Status"})},value:e.status}].map((function(e,n){return(0,q.jsxs)("div",{className:Nn,children:[(0,q.jsx)("span",{className:Pn,children:e.renderTitle()}),(0,q.jsx)("span",{className:vn,children:e.value})]})}))]})}))})},Cn=t(49913),Sn=t(71909),kn=t(77056),Fn=function(e){var n=e.data,t=function(e){var n,t,i,r,a=e.type,l=e.side,s=null==l||null===(n=l.split(" "))||void 0===n||null===(t=n[0])||void 0===t?void 0:t.toLowerCase();return null!=a&&null!==(i=a.toLowerCase())&&void 0!==i&&i.includes("deposit")?"+$":null!=a&&null!==(r=a.toLowerCase())&&void 0!==r&&r.includes("withdraw")?"-$":"open"===s?"+$":"close"===s?"-$":"$"},i=[{title:"Pair",width:"10%",key:"market",dataIndex:"market"},{width:"10%",title:"Side",render:function(e){var n;return(0,q.jsx)("div",{className:j()((n={},p()(n,fn,"Long"===e.side||"Open Long"===e.side||"Close Short"===e.side),p()(n,yn,"Short"===e.side||"Open Short"===e.side||"Close Long"===e.side),n)),children:null==e?void 0:e.side})}},{width:"15%",title:"Type",dataIndex:"type",key:"type"},{width:"10%",title:"Size",dataIndex:"size",render:function(e){return(0,te.dp)(e).display()}},{width:"10%",title:"Collateral",render:function(e){return(0,te.dp)(e.collateral).display({prefix:t(e)})}},{width:"10%",title:"Price",dataIndex:"price",render:function(e,n){return n.fromOrder?(0,te.dp)(e).display({prefix:n.triggerAbove?">$":"<$"}):(0,te.dp)(e).display()}},{width:"10%",title:"PNL",render:function(e){return(0,q.jsx)("span",{children:0!=+(null==e?void 0:e.PNL)?un(null==e?void 0:e.PNL,(Math.floor(1e4*+(null==e?void 0:e.PNLRate))/100).toString()):"-"})}},{width:"10%",title:"Time",dataIndex:"timestamp",key:"timestamp",render:function(e){return(0,se.m)(e)||""}},{width:"15%",title:"Status",dataIndex:"status",key:"Status",align:"right",render:function(e,n){return n.cancelReason?(0,q.jsx)(Sn.Z,{placement:"top",overlay:(0,q.jsx)("div",{className:pn,children:(0,q.jsx)(Ze._H,{id:n.cancelReason})}),children:(0,q.jsx)(Cn.Z.Text,{className:vn,children:(0,q.jsx)(Ze._H,{id:e})})}):(0,q.jsx)(Ze._H,{id:e})}}];return(0,q.jsx)(kn.Z,{className:mn,size:"small",columns:i,dataSource:n,bordered:!1,pagination:!1,emptyText:"No History Yet"})},In=(0,oe.tq)()?Tn:Fn,Mn=function(e){var n=(0,c.sJ)(tn),t=(0,o.useState)(sn.Q),i=l()(t,2),r=i[0],a=i[1],s=(0,o.useMemo)((function(){var e=r*sn.I,t=e-sn.I;return n.slice(t,e)}),[r,n]);return(0,q.jsxs)("div",{className:dn,children:[(0,q.jsx)(In,{data:s}),!(null==s||!s.length)&&(0,q.jsx)(ln.Z,{data:s,pageIndex:r,setPageIndex:a,_data:n})]})},Dn=t(61145),On=function(){var e=_()(g()().mark((function e(n,t,i){var r,a,l;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,Dn.x7)(i),a='query myQuery {\n    orders(orderDirection: desc, orderBy: timestamp,where: {account: "'.concat(null==n?void 0:n.toLowerCase(),'", marketName:"').concat(t,'", isDeleted: false}){\n          id\n          tp\n          sl\n          market\n          timestamp\n          collateral\n          triggerPrice\n          timestamp\n          isLong\n          isIncrease\n          orderId\n          size\n          triggerAbove\n          isLong\n          marketName\n        }\n      }\n      '),e.next=4,(0,Dn.Dw)(r,a);case 4:return l=e.sent,e.abrupt("return",(null==l?void 0:l.orders)||[]);case 6:case"end":return e.stop()}}),e)})));return function(n,t,i){return e.apply(this,arguments)}}(),An=function(){var e=_()(g()().mark((function e(n){var t,i,r;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=n.accountAddress&&null!=n.accountAddress){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,On(n.accountAddress,null==n?void 0:n.marketName,null==n||null===(t=n.market)||void 0===t?void 0:t._chainId);case 4:return i=e.sent,r=[],i.forEach((function(e){var t=En(e,n);r.push(t)})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function En(e,n){var t,i,r,a,l,s,o,c,u=null!=e&&e.isIncrease?"Limit":"Trigger",d=null!=e&&e.isIncrease?"Open":"Close",p=e.isIncrease;n.openFeeRate;return m()(m()({},e),{},{pair:e.marketName,orderID:e.orderId,type:u,side:null!=e&&e.isLong?d+" Long":d+" Short",collateral:null==n||null===(t=n.market)||void 0===t||null===(i=t.formatNum(e.collateral))||void 0===i?void 0:i.toString(),triggerPrice:null==n||null===(r=n.market)||void 0===r?void 0:r.formatPrice(e.triggerPrice),tp:p?null==n||null===(a=n.market)||void 0===a?void 0:a.formatPrice(e.tp):"0",sl:p?null==n||null===(l=n.market)||void 0===l?void 0:l.formatPrice(e.sl):"0",time:(0,se.m)(e.timestamp),isIncrease:null==e?void 0:e.isIncrease,isLong:null==e?void 0:e.isLong,size:null!==(s=null==n||null===(o=n.market)||void 0===o?void 0:o.formatNum(null==e?void 0:e.size))&&void 0!==s?s:"0",isTpTrigger:(null==e?void 0:e.isLong)===e.triggerAbove,limitPrice:(null==n||null===(c=n.market)||void 0===c?void 0:c.formatPrice((0,Ce._b)("2000000000000000000000000000000000")))||"0`"})}function Rn(e,n,t,i){var r=(0,te.Q6)(e);return(r.gt(0)?(0,te.Q6)(n).minus(r).multipliedBy((0,te.Q6)(t)).dividedBy(r).multipliedBy(i?1:-1):"").toString()}var zn,Qn,Zn=t(31927),Bn=t(79487),Hn=function(){var e=_()(g()().mark((function e(){var n,t,i,r,a,l,s=arguments;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>0&&void 0!==s[0]?s[0]:void 0,t=s.length>1?s[1]:void 0,i=(0,Dn.x7)(t),r=null!=n?'account:"'+(null==n?void 0:n.toLowerCase())+'"':"",a="query MyQuery {\n      trades(orderDirection: desc, orderBy: timestamp,where: {".concat(r,"}) {\n        collateral\n        pnl\n        price\n        size\n        side\n        timestamp\n        type\n        status\n        market\n        fromOrder\n        triggerAbove\n      }\n    }\n      "),e.next=7,(0,Dn.Dw)(i,a);case 7:return l=e.sent,e.abrupt("return",null!=l&&l.trades?(0,Bn.Z)(null==l?void 0:l.trades,null==l?void 0:l.orders)||[]:(null==l?void 0:l.orders)||[]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vn=function(){var e=_()(g()().mark((function e(n){var t,i,r;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=n.accountAddress&&null!=n.accountAddress){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,Hn(n.accountAddress,null==n||null===(t=n.market)||void 0===t?void 0:t._chainId);case 4:return i=e.sent,r=[],i.forEach((function(e){r.push(Yn(e,n))})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();!function(e){e[e.Padding=0]="Padding",e[e.Liquidation=1]="Liquidation",e[e.PositionClosed=2]="PositionClosed",e[e.Executed=3]="Executed",e[e.TpAndSlExecuted=4]="TpAndSlExecuted",e[e.Canceled=5]="Canceled",e[e.SysCancel=6]="SysCancel",e[e.PartialLiquidation=7]="PartialLiquidation"}(Qn||(Qn={}));var qn=(zn={},p()(zn,Qn.Padding,"CancelReason.Padding"),p()(zn,Qn.Liquidation,"CancelReason.Liquidation"),p()(zn,Qn.PositionClosed,"CancelReason.PositionClosed"),p()(zn,Qn.TpAndSlExecuted,"CancelReason.TpAndSlExecuted"),p()(zn,Qn.SysCancel,"CancelReason.SysCancel"),p()(zn,Qn.PartialLiquidation,"CancelReason.PartialLiquidation"),zn),Un={Undefined:Qn.Padding,Liquidation:Qn.Liquidation,"Position Closed":Qn.PositionClosed,Executed:Qn.Executed,"TP-SL Executed":Qn.TpAndSlExecuted,Canceled:Qn.Canceled,"System Cancel":Qn.SysCancel,"Parital Liquidation":Qn.PartialLiquidation},Jn=["Request","Executed","Canceled"];function Yn(e,n){var t=n.market,i=Un[null==e?void 0:e.status],r=m()(m()({},e),{},{type:(0,Zn.Z)(null==e?void 0:e.type),size:(0,Be.Z)(null==e?void 0:e.size)?"-":t.formatNum(null==e?void 0:e.size),collateral:t.formatNum(null==e?void 0:e.collateral),price:(0,Be.Z)(null==e?void 0:e.price)?"-":t.formatPrice(null==e?void 0:e.price),PNL:(0,Be.Z)(null==e?void 0:e.pnl)?"0":t.formatNum(null==e?void 0:e.pnl),cancelReason:Jn.includes(e.status)?void 0:qn[i],status:Jn.includes(e.status)?e.status:"Canceled"});return r.PNLRate=(0,Be.Z)(null==e?void 0:e.pnl)?"-":r.PNL/r.collateral,r}var Gn=JSON.parse('{"abi":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"account","type":"address"},{"indexed":false,"internalType":"int256","name":"collateralDelta","type":"int256"},{"indexed":false,"internalType":"uint256","name":"sizeDelta","type":"uint256"},{"indexed":false,"internalType":"bool","name":"isLong","type":"bool"},{"indexed":false,"internalType":"uint256","name":"price","type":"uint256"},{"indexed":false,"internalType":"int256","name":"pnl","type":"int256"},{"components":[{"internalType":"int256","name":"_totoalFees","type":"int256"},{"internalType":"int256","name":"_execFee","type":"int256"},{"internalType":"int256","name":"_fundFee","type":"int256"},{"internalType":"int256","name":"_tradeFee","type":"int256"}],"indexed":false,"internalType":"struct MarketStorage.FeesVars","name":"fees","type":"tuple"},{"indexed":false,"internalType":"address","name":"market","type":"address"},{"indexed":false,"internalType":"address","name":"collateralToken","type":"address"},{"indexed":false,"internalType":"address","name":"indexToken","type":"address"},{"indexed":false,"internalType":"uint256","name":"category","type":"uint256"},{"indexed":false,"internalType":"bool","name":"fromOrder","type":"bool"}],"name":"UpdatePosition","type":"event"}]}'),Kn=t(62602),Wn="switch___V_gYU",Xn="rounded___Q_7Ny",$n="switchEnabled___Ca9FC",et=function(e){var n=e.checked,t=e.className,i=e.onChange;return(0,q.jsx)(Kn.r,{checked:n,className:j()(Wn,p()({},$n,n),t),onChange:i,children:(0,q.jsx)("div",{className:Xn})})},nt=t(1232),tt=t(2260),it=t(80593),rt=t(26423),at=Object.defineProperty,lt=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,ot=Object.prototype.propertyIsEnumerable,ct=(e,n,t)=>n in e?at(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const ut=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))st.call(n,t)&&ct(e,t,n[t]);if(lt)for(var t of lt(n))ot.call(n,t)&&ct(e,t,n[t]);return e})({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"m3 6 5 5 5-5",stroke:"#9597B5",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"}));var dt=t(50927),pt="advanced___MBdTe",vt="header___ifyUh",mt="title___YOTQb",ft="collectIcon___x8hbZ",yt="collectedIcon___dhQWJ",xt="item___oTlSJ",gt="flex___RaHI3",ht="label___E6FRI",_t="questionIcon___bN9mo",bt="overlay___eaqfY",jt="var___pOK0z",Nt="panel____HyG6",Pt="openPanel___unKQ2",wt=function(e){var n=(0,o.useState)(e.collect||!1),t=l()(n,2),i=t[0],r=t[1],a=e.ifSlippage,s=e.value,c=void 0===s?{}:s,u=e.stopLossPNL,d=e.onChange,v=e.ifStopLoss,f=e.ifTakeProfit,y=e.ifAll,x=e.tkpPNL,g=(0,o.useMemo)((function(){return"\n    When Index Price reaches ".concat(c.takeProfit||"--"," USD, it will trigger Take Profit, and the estimated PNL will be ").concat(x||"--"," USD.")}),[c.takeProfit,x]),h=(0,o.useMemo)((function(){return"When Index Price reaches ".concat(c.stopLoss||"--"," USD, it will trigger Stop Loss, and the estimated PNL will be ").concat(u||"--"," USD.")}),[c.stopLoss,u]);return(0,q.jsxs)("div",{className:pt,children:[(0,q.jsxs)("div",{className:vt,onClick:function(){r((function(e){return!e}))},children:[(0,q.jsx)("div",{className:mt,children:"Advanced"}),(0,q.jsx)(ut,{className:j()(ft,p()({},yt,i))})]}),(0,q.jsxs)("div",{className:j()(Nt,p()({},Pt,i)),children:[(v||y)&&(0,q.jsx)("div",{className:xt,children:(0,q.jsx)(rt.ZP,{decimals:2,value:c.stopLoss,onChange:function(e){d(m()(m()({},c),{},{stopLoss:e}))},label:(0,q.jsxs)("div",{className:gt,children:[(0,q.jsx)("div",{className:ht,children:"Stop Loss"}),(0,q.jsx)(Sn.Z,{overlayStyle:{maxWidth:320},placement:"top",overlay:(0,q.jsx)("div",{className:bt,children:h}),children:(0,q.jsx)(dt.r,{className:_t})})]}),children:(0,q.jsx)("div",{className:jt,children:"USD"})})}),(f||y)&&(0,q.jsx)("div",{className:xt,children:(0,q.jsx)(rt.ZP,{decimals:2,value:c.takeProfit,onChange:function(e){d(m()(m()({},c),{},{takeProfit:e}))},label:(0,q.jsxs)("div",{className:gt,children:[(0,q.jsx)("div",{className:ht,children:"Take Profit"}),(0,q.jsx)(Sn.Z,{overlayStyle:{maxWidth:320},placement:"top",overlay:(0,q.jsx)("div",{className:bt,children:g}),children:(0,q.jsx)(dt.r,{className:_t})})]}),children:(0,q.jsx)("div",{className:jt,children:"USD"})})}),(a||y)&&(0,q.jsx)("div",{className:xt,children:(0,q.jsx)(rt.ZP,{value:c.slippage,decimals:2,onChange:function(e){d(m()(m()({},c),{},{slippage:e}))},label:(0,q.jsxs)("div",{className:gt,children:[(0,q.jsx)("div",{className:ht,children:"Slippage"}),(0,q.jsx)(Sn.Z,{overlayStyle:{maxWidth:320},placement:"top",overlay:(0,q.jsxs)("div",{className:bt,children:["Note that a low allowed slippage, e.g. less than 0.5%, may result in failed orders if prices are volatile."," "]}),children:(0,q.jsx)(dt.r,{className:_t})})]}),children:(0,q.jsx)("div",{className:jt,children:"%"})})})]})]})},Lt=Object.defineProperty,Tt=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable,kt=(e,n,t)=>n in e?Lt(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const Ft=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))Ct.call(n,t)&&kt(e,t,n[t]);if(Tt)for(var t of Tt(n))St.call(n,t)&&kt(e,t,n[t]);return e})({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M7.652 12h2.319L13.5 8 9.97 4H7.653l2.795 3.234H2.5v1.532h7.947L7.652 12Z"}));var It,Mt="field___AEG_L",Dt="label___JBZb5",Ot="value___dSa5M",At="nextValue___o1dcE",Et="oldValue___XDLug",Rt="arrowRed___HnTAV",zt="arrowGrn___ttBc1",Qt=function(e,n,t,i,r){var a,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=l.ntAppend,o=void 0===s?r:s,c=l.ntPrefix,u=void 0===c?i:c,d=l.displayDecimals,v=void 0===d?2:d,m=function(e,n){var t;return t={},p()(t,zt,+e<+n),p()(t,Rt,+e>+n),t},f=t&&+t!=+n;return(0,q.jsx)(q.Fragment,{children:(0,q.jsxs)("div",{className:Mt,children:[e&&(0,q.jsx)("div",{className:Dt,children:e}),(0,q.jsxs)("div",{className:Ot,children:[(0,q.jsx)("div",{className:j()((a={},p()(a,"".concat(Ot," ").concat(Et),f),p()(a,At,!f),a)),children:!Number.isNaN(n)&&isFinite(+n)?"".concat(null!=l&&l.formatNowValue?l.formatNowValue(n):(0,te.dp)(n,v).display({suffix:r,prefix:i})):"-"}),f&&!Number.isNaN(t)&&isFinite(+t)&&(0,q.jsxs)("div",{className:At,children:[(0,q.jsx)("span",{className:j()(m(n,t)),children:(0,q.jsx)(Ft,{})}),null==l?void 0:l.defaultValue,!(null!=l&&l.defaultValue)&&"".concat(u||"").concat(null!=l&&l.formatNextValue?l.formatNextValue(t):(0,te.dp)(t,v).display({prefix:"",suffix:""})).concat(o||"")]})||""]})]})})},Zt={card:"card___fdBku",header:"header___mYjMg",title:"title___DaWZ7",right:"right___VLVON",switch:"switch___JvgPx",table:"table___fNLlk",pnl:"pnl___pZIIu",side:"side___qR1Jt",editCancel:"editCancel___JKw0Q",edit:"edit___DUhY3",submitBtn:"submitBtn___pc5K5",field:"field___bbKYP",label:"label___CTyu8",value:"value___madrW",old:"old___XZbZw",new:"new___sFZEB",colorGrn:"colorGrn___FQhdW",colorRed:"colorRed___WPYKL",container:"container___FOa3G",orderListItem:"orderListItem___Gatca",pair:"pair___FE70j",pairLeft:"pairLeft___qFO3w",pos:"pos___d4i57",limit:"limit___fouyr",orderListItemContent:"orderListItemContent___vcvzS",text:"text___Kq6d1",btnsH5:"btnsH5___X2Ryv",btnH5:"btnH5___PjA4_",long:"long___ViDnD",short:"short___GTRN3",warning:"warning___wpdDT",warningTitle:"warningTitle___Eykl4",warningYellow:"warningYellow___XY5d_"},Bt=function(e){return void 0===e||0==+e||(0,Be.Z)(e)?"":(0,te.Q6)(e||"").toFixed(2,1)},Ht=function(e){var n,t,i=e.isVisible,r=e.setIsVisible,a=e.row,u=e.tradeShowArgs,d=e.successCb,p=(0,o.useState)(Bt(null==a?void 0:a.triggerPrice)),v=l()(p,2),f=v[0],y=v[1],x=(0,s.Ge)(),g=x.active,h=x.account,_=(0,o.useState)(!1),b=l()(_,2),j=b[0],N=b[1],P=(0,o.useState)(Bt(null==a?void 0:a.sl)),w=l()(P,2),L=w[0],T=w[1],C=(0,o.useState)(Bt(null==a?void 0:a.tp)),S=l()(C,2),k=S[0],F=S[1],I=(0,c.sJ)(en),M=null==a?void 0:a.isLong,D=null==u||null===(n=u.market)||void 0===n||null===(t=n._valid)||void 0===t?void 0:t.maxLev,O=(0,te.Q6)((null==D?void 0:D.toNumber())||100),A=a.indexPrice,E=(0,o.useMemo)((function(){if(I&&I.length>0){var e="".concat(M?"Long":"Short");return I.find((function(n){return n.pair===(null==a?void 0:a.pair)&&n.account===h&&n.side===e}))}return null}),[I,M]),R=(0,o.useMemo)((function(){return Boolean(E&&E.size&&(0,te.Q6)(E.size).gt(0))}),[E]),z=(0,o.useMemo)((function(){var e,n,t=f,i=(0,te.Q6)(null==a?void 0:a.size),r=null==u?void 0:u.executionFee,l=(0,te.Q6)(r||0),s=null==u?void 0:u.openFeeRate,o=(0,te.Q6)(s||0),c=Ae.getOpenFee(i,o),d=(0,te.Q6)(null!==(e=null==u?void 0:u.cleanFee)&&void 0!==e?e:"0"),p=Ae.getEntryPriceDisplay((0,te.Q6)(null==a?void 0:a.triggerPrice),i,M,E),v=Ae.getEntryPriceDisplay((0,te.Q6)(f),i,M,E),y=Ae.getConfirmStat({size:(0,te.Q6)(null==a?void 0:a.size),leverageOption:0,executionFee:l,entryPrice:(0,te.Q6)(null==a?void 0:a.triggerPrice),existingPosition:E,positionFeeRate:(0,te.Q6)(s||0),hasExistingPosition:R,pay:(0,te.Q6)(null==a?void 0:a.collateral),openFee:c,cleanFee:d}),x=Ae.getConfirmStat({size:(0,te.Q6)(null==a?void 0:a.size),leverageOption:0,executionFee:l,entryPrice:v.mergePositionPrice,existingPosition:E,positionFeeRate:(0,te.Q6)(s||0),hasExistingPosition:R,pay:(0,te.Q6)(null==a?void 0:a.collateral),openFee:c,cleanFee:d}).getLigPriceDisplay(v.mergePositionPrice,O,M,o),g=y.getLigPriceDisplay(p.mergePositionPrice,O,M,o),h=x.mergePositionPrice.toString(),_=E?null==E?void 0:E.liqPrice:g.mergePositionPrice.toString(),b=(0,te.Q6)(null==E?void 0:E.size).minus((0,te.Q6)(null==a?void 0:a.size)),j=(0,te.Q6)(null==E?void 0:E.initialCollateral).minus((0,te.Q6)(null==a?void 0:a.collateral)),N=null===(n=(0,te.Q6)(null==E?void 0:E.feeRate))||void 0===n?void 0:n.toString(),P=(0,te.Q6)(s),w=(0,te.Q6)(d),L=Ue(m()(m()({},a),{},{fundingFee:"0",size:b.toString(),collateral:j.toString(),averagePrice:null==E?void 0:E.averagePrice}),N,O,P,w);return{nextOrderPrice:t,nextLiqPrice:h,initLiqPrice:_,nextTriggerLiq:R?L:"0",initTriggerLiq:R?null==E?void 0:E.liqPrice:"0"}}),[f,null==E?void 0:E.PNL]),Q=z.nextOrderPrice,Z=z.nextLiqPrice,B=z.initLiqPrice,H=z.nextTriggerLiq,V=z.initTriggerLiq,U=(0,o.useMemo)((function(){return new nt.Z(f).isEqualTo(new nt.Z(null==a?void 0:a.triggerPrice))?B:Z}),[f,O,A]),J=function(){var e=function(){if(!f)return"Enter a price";if(null!=a&&a.isIncrease)if(null!=a&&a.isLong){if(+f>=+A)return"Price above current price";if(""!=L){if(+L>=+f)return"Stop loss above order price";if(+L<=+Z)return"Stop loss below liq.price"}if(""!=k&&+k<=+f)return"Take profit below order price"}else{if(+f<=+A)return"Price below current price";if(""!=L){if(+L<=+f)return"Stop loss below order price";if(+L>=+Z)return"Stop loss above liq.price"}if(""!=k&&+k>=+f)return"Take profit above order price"}else if(null!=a&&a.isLong){if(+f<=+H)return"Price below liq.price"}else if(+f>=+H)return"Price above liq.price";return j?"Updating order...":""}();return e?{btnTxt:e,btnValid:!1}:{btnTxt:"Update order",btnValid:!0}},Y=(0,o.useMemo)((function(){return J()}),[f,j,M,null==a?void 0:a.isIncrease,L,k,B,U,R,A,Z,H]),G=Y.btnTxt,K=Y.btnValid,W=(0,o.useMemo)((function(){return[k?Ae.getEstimatedPNL({isLong:M,entryPrice:(0,te.Q6)(f),price:(0,te.Q6)(k),size:(0,te.Q6)(null==a?void 0:a.size)}).toFixed(2,1):"",L?Ae.getEstimatedPNL({isLong:M,entryPrice:(0,te.Q6)(f),price:(0,te.Q6)(L),size:(0,te.Q6)(null==a?void 0:a.size)}).toFixed(2,1):""]}),[k,L,M,f]),X=l()(W,2),$=X[0],ee=X[1];return(0,q.jsx)("div",{className:Zt.modal,children:(0,q.jsxs)(it.Z,{title:"Edit ".concat(null==a?void 0:a.type," Order"),onClose:function(){return r(!1)},visible:i,width:512,children:[(0,q.jsx)(rt.tV,{value:f,onChange:y,decimals:2}),(null==a?void 0:a.isIncrease)&&(0,q.jsx)(wt,{value:{stopLoss:L,takeProfit:k},ifStopLoss:!0,ifTakeProfit:!0,onChange:function(e){T((null==e?void 0:e.stopLoss)||""),F((null==e?void 0:e.takeProfit)||"")},tkpPNL:$,stopLossPNL:ee}),(0,q.jsxs)("div",{className:Zt.fields,children:[Qt("Order Price",null==a?void 0:a.triggerPrice,f,null!=a&&a.triggerAbove?">$":"<$","",{ntPrefix:+Q<+A?"<$":">$"}),Qt("Index Price",A,"","$"),R?null!=a&&a.isIncrease?Qt("Liq Price",B,Z,"$"):Qt("Liq Price",V,H,"$"):null!=a&&a.isIncrease?Qt("Liq Price",Z,"","$"):Qt("Liq Price","-","-","$")]}),(0,q.jsx)(tt.Z,{className:Zt.submitBtn,disabled:j||!K,onClick:function(){g&&h&&(N(!0),function(e,n,t,i,r,a,l){var s=e.market;return i?e.market.updateIncreaseOrder(+n,s.getPriceDecimals(t),s.getPriceDecimals(a||0),s.getPriceDecimals(l||0),r):e.market.updateDecreaseOrder(+n,s.getPriceDecimals(t),r)}(u,null==a?void 0:a.orderID,f,null==a?void 0:a.isIncrease,a.isLong,k,L).then((function(e){d(),r(!1)})).catch((function(e){return console.log("confirm",e)})).finally((function(){N(!1)})))},children:G})]})})},Vt="overlay___ob7Kb",qt="overlayTitle___Qu9fp",Ut="overlayContent___FYtAF",Jt="coinBaseSize____bRmf",Yt=function(e){var n=e.usdSize,t=e.symbol,i=e.entryPrice,r=e.priceLabel||"Entry Price";return(0,q.jsxs)("div",{className:Vt,children:[(0,q.jsxs)("div",{className:qt,children:["Size(",t,")"]}),(0,q.jsx)("div",{children:"Size(".concat(t,")= Size(USD) / ").concat(r)}),(0,q.jsx)("div",{children:"Size(USD): $".concat((0,te.Q6)(n).toFixed(6,1))}),(0,q.jsx)("div",{children:"".concat(r,": $").concat(i)}),(0,q.jsx)("div",{className:Ut,children:(0,q.jsx)(Ze._H,{id:"Trading units using stable coins in DEI such as USD, open position amounts shown are calculated based on the actual coin quantity. Values change with the last price of the symbol."})})]})},Gt=function(){return(0,q.jsxs)("div",{className:Vt,children:[(0,q.jsx)("div",{className:qt,children:"Size(USD)"}),(0,q.jsx)("div",{className:Ut,children:(0,q.jsx)(Ze._H,{id:"Trading units using stable coins in DEI such as USD, open position amounts shown are calculated based on the actual coin quantity. Values change with the last price of the symbol."})})]})},Kt=function(e){var n=e.usdSize,t=e.priceLabel,i=e.entryPrice,r=e.symbol;return(0,c.sJ)(Ge)?(0,q.jsx)(Sn.Z,{overlayStyle:{minWidth:340},overlay:(0,q.jsx)(Yt,{priceLabel:t,symbol:r,usdSize:n,entryPrice:i}),children:(0,q.jsx)("div",{className:Jt,children:"".concat((0,te.dp)(Ae.getCoinBasedSizeByUSD((0,te.Q6)(n),(0,te.Q6)(i)),2).display({suffix:" ".concat(r),prefix:""}))})}):(0,q.jsx)(Sn.Z,{overlayStyle:{minWidth:340},overlay:(0,q.jsx)(Gt,{}),children:(0,q.jsxs)("div",{className:Jt,children:[" $",(0,te.Q6)(n).toFixed(2,1)]})})},Wt=t(58522),Xt=t(74637),$t=t.n(Xt),ei="buttons___aWMiP",ni="overlay___b12N7",ti=function(e){var n=e.svgName,i=void 0===n?"edit":n,r=e.children,a=e.toolTipContent,l=e.overlayClass,s=void 0===l?ni:l,o=e.append,c=void 0===o?"svg":o,u=e.imgClass,d=e.overlayStyle;return(0,q.jsx)("div",m()(m()({},e),{},{children:a?(0,q.jsx)(Sn.Z,{placement:"top",overlayStyle:d||{minWidth:"auto"},overlay:(0,q.jsx)("div",{className:s,children:(0,q.jsx)("span",{children:a})}),children:(0,q.jsx)("span",{children:i?(0,q.jsx)("img",{src:t(77912)("./".concat(i,".").concat(c)),className:u}):r})}):(0,q.jsx)("span",{style:{cursor:"default"},children:i?(0,q.jsx)("img",{src:t(77912)("./".concat(i,".").concat(c)),className:u}):r})}))},ii=function(e){var n,t=e.buttons;return(0,q.jsx)("div",{className:ei,children:null==t||null===(n=t.filter((function(e){return e.visible})))||void 0===n?void 0:n.map((function(e,n){return e.slot?e.slot:(0,q.jsx)(ti,m()({},e),e.id||n)}))})};!function(e){e[e.noPos=0]="noPos",e[e.orderSize=1]="orderSize",e[e.limitReached=2]="limitReached",e[e.stopLoss=3]="stopLoss"}(It||(It={}));var ri=(0,oe.tq)()?function(e){var n=e.orders,t=e.handleEdit,i=e.handleCancel;return(0,q.jsx)("div",{className:Zt.container,children:n.map((function(e,n){var r,a;return(0,q.jsxs)("div",{className:Zt.orderListItem,children:[(0,q.jsxs)("div",{className:Zt.pair,children:[(0,q.jsxs)("div",{className:Zt.pairLeft,children:[(0,q.jsxs)("div",{children:[" ",e.pair," "]}),(0,q.jsx)("div",{className:j()(Zt.pos,(r={},p()(r,Zt.long,e.isLong),p()(r,Zt.short,!e.isLong),r)),children:e.isLong?"Long":"Short"})]}),(0,q.jsx)("div",{className:Zt.limit,children:(0,q.jsx)(Ze._H,{id:"Limit"})})]}),[{title:function(){return(0,q.jsx)(Ze._H,{id:"Size"})},value:(0,q.jsx)(Kt,{priceLabel:"Order Price",entryPrice:e.triggerPrice,symbol:(0,oe.D4)(e.pair),usdSize:e.size})},{title:function(){return(0,q.jsx)(Ze._H,{id:"Collateral"})},value:(0,q.jsx)(Wt.Z,{value:+e.isIncrease?e.collateral:null===(a=Math.abs(+e.collateral))||void 0===a?void 0:a.toString(),prefix:+e.isIncrease?"$":"-$"})},{title:function(){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Ze._H,{id:"Order"})," ",(0,q.jsx)(Ze._H,{id:"Price"})]})},value:(0,q.jsx)(Wt.Z,{value:null==e?void 0:e.triggerPrice,prefix:null!=e&&e.triggerAbove?">$":"<$"})},{title:function(){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Ze._H,{id:"Index"})," ",(0,q.jsx)(Ze._H,{id:"Price"})]})},value:(0,q.jsx)(Wt.Z,{value:e.indexPrice,prefix:"$"})},{title:function(){return"TP/SL"},value:(0,q.jsx)(Wt.y,{values:[{value:Number((null==e?void 0:e.tp)||0)>0?null==e?void 0:e.tp:void 0,prefix:"$"},{value:Number((null==e?void 0:e.sl)||0)>0?null==e?void 0:e.tp:void 0,prefix:"$"}]})},{title:function(){return(0,q.jsx)(Ze._H,{id:"Time"})},dataIndex:"time",value:e.time}].map((function(e,n){return(0,q.jsxs)("div",{className:Zt.orderListItemContent,children:[(0,q.jsx)("span",{className:Zt.label,children:e.title()}),(0,q.jsx)("span",{className:Zt.text,children:e.value})]})})),(0,q.jsxs)("div",{className:Zt.btnsH5,children:[(0,q.jsx)("div",{className:Zt.btnH5,onClick:function(){return t(e,n)},children:(0,q.jsx)(Ze._H,{id:"Edit"})}),(0,q.jsx)("div",{className:Zt.btnH5,onClick:function(){return i(e)},children:(0,q.jsx)(Ze._H,{id:"Cancel"})})]})]})}))})}:function(e){var n=e.orders,t=e.handleCancel,i=e.handleEdit,r=e.handleCancelAll,a=(0,c.sJ)(en),s=[{width:"10%",title:"Pair",dataIndex:"pair",render:function(e){return e||"-"}},{width:"10%",title:"Side",key:"side",render:function(e){var n;return(0,q.jsx)("div",{className:j()((n={},p()(n,Zt.colorGrn,(null==e?void 0:e.isLong)==(null==e?void 0:e.isIncrease)),p()(n,Zt.colorRed,(null==e?void 0:e.isLong)!==(null==e?void 0:e.isIncrease)),n)),children:null==e?void 0:e.side})}},{width:"8%",title:"Type",dataIndex:"type",key:"type"},{width:"8%",title:"Size",dataIndex:"size",key:"size",render:function(e,n){var t=(0,oe.D4)(n.pair);return(0,q.jsx)(Kt,{priceLabel:"Order Price",entryPrice:n.triggerPrice,symbol:t,usdSize:e})}},{width:"8%",title:"Collateral",key:"collateral",render:function(e){var n,t=+e.isIncrease?e.collateral:null===(n=Math.abs(+e.collateral))||void 0===n?void 0:n.toString(),i=+e.isIncrease?"+$":"-$";return(0,q.jsx)(Wt.Z,{value:t,prefix:i})}},{width:"8%",title:"Order Price",render:function(e){return(0,q.jsx)(Wt.Z,{value:null==e?void 0:e.triggerPrice,prefix:null!=e&&e.triggerAbove?">$":"<$"})}},{width:"8%",title:"Index Price",render:function(e){return(0,q.jsx)(Wt.Z,{value:e.indexPrice,prefix:"$"})}},{width:"10%",title:"TP/SL",render:function(e){return(0,q.jsx)(Wt.y,{values:[{value:Number((null==e?void 0:e.tp)||0)>0?null==e?void 0:e.tp:void 0,prefix:"$"},{value:Number((null==e?void 0:e.sl)||0)>0?null==e?void 0:e.sl:void 0,prefix:"$"}]})}},{width:"10%",title:"Time",dataIndex:"time",key:"time"},{width:"15%",align:"right",title:null!=n&&n.length?(0,q.jsx)("span",{onClick:r,className:"cp cBlue",children:"Cancel All"}):(0,q.jsx)(q.Fragment,{}),render:function(e,r,s){var o=function(e){var t=function(e,n){return(0,q.jsxs)("div",{className:Zt.warning,children:[(0,q.jsx)("div",{className:Zt.warningTitle,children:"WARNING"}),(0,q.jsx)("div",{className:Zt.warningContent,children:(0,q.jsx)(Ze._H,{id:"Orders."+It[e],values:{triggerAbove:n?"above":"below"}})})]})},i=e.sl,r=e.tp,s=e.type,o=e.isLong,c=e.pair,u=e.size,d=function(e,n){var t=a.find((function(t){return t.pair===e&&t.isLong===n}));return t?[!0,t]:[!1,{}]}(c,o),p=l()(d,2),v=p[0],m=p[1];if("Trigger"===s){if(!v)return[!0,t(0)];if(+u>+m.size)return[!0,t(1)]}if(+r>0||+i>0){var f=+m.liqPrice;if(function(e,t){var i;return(null===(i=n.filter((function(n){return n.pair===e&&n.isLong===t&&"Trigger"===n.type})))||void 0===i?void 0:i.length)||0}(c,o)>=10)return[!0,t(2)];if(v&&+i>0&&(+i<f===o||+i>f==!o))return[!0,t(3,+i>f)]}return[!1,(0,q.jsx)(q.Fragment,{})]}(e),c=l()(o,2),u=c[0],d=c[1],p=function(e,n,t){return(0,q.jsx)(Ze._H,{id:"Orders.pnlText",values:{type:e,triggerPrice:t,PNL:n}})},v=[{svgName:"warningYellow",toolTipContent:d,visible:u,overlayClass:Zt.warningYellow,overlayStyle:{minWidth:320}},{svgName:"mainorder",toolTipContent:+e.tp>0||+e.sl>0?function(e){var n=e.tp,t=e.sl,i=e.isLong,r=+n>0,a=+t>0,l=(0,te.dp)(Rn(e.triggerPrice,n,e.size,i)||"").display({prefix:""}),s=(0,te.dp)(Rn(e.triggerPrice,t,e.size,i)||"").display({prefix:""});return(0,q.jsxs)("div",{className:Zt.warning,children:[(0,q.jsx)("div",{className:Zt.warningTitle,children:(0,q.jsx)(Ze._H,{id:"Orders.tpOrSL"})}),(0,q.jsxs)("div",{className:Zt.warningContent,children:[(0,q.jsx)(Ze._H,{id:"Orders.orderSet",values:{TP:r?"tp":"",and:r&&a?"and":"",SL:a?"sl":""}}),(0,q.jsx)("br",{}),r&&p("take profit",l,n),(0,q.jsx)("br",{}),a&&p("stop loss",s,t)]})]})}(e):void 0,visible:"Limit"===e.type,overlayStyle:{minWidth:320}},{svgName:"suborder",toolTipContent:function(e,n){var t=(0,oe.D4)(n.pair),i=(0,te.dp)(Rn(n.triggerPrice,n.limitPrice,n.size,n.isLong)||"").display({prefix:""}),r=n.triggerPrice;return(0,q.jsxs)("div",{className:Zt.warning,children:[(0,q.jsx)("div",{className:Zt.warningTitle,children:(0,q.jsx)(Ze._H,{id:"Orders.tpOrSL"})}),(0,q.jsxs)("div",{className:Zt.warningContent,children:[(0,q.jsx)(Ze._H,{id:"Orders.orderWithType",values:{type:e}}),(0,q.jsx)("br",{}),function(e){return"".concat(e.isIncrease?"Increase":"Close"," ").concat(t," ").concat(e.isLong?"Long":"Short",", ").concat(e.collateral," USD, ").concat(t," Price: ").concat(e.indexPrice," USD, ").concat($t()(1e3*+e.timestamp).format("DD MMM YYYY, HH:mm A"),". ")}(n),(0,q.jsx)("br",{}),p(e,i,r)]})]})}(e.isLong===e.triggerAbove?"Take Profit":"Stop Loss",e),visible:"Trigger"===e.type,overlayStyle:{minWidth:320}},{svgName:"edit",toolTipContent:"Edit",onClick:function(){return i(e,s)},visible:!0},{svgName:"close",toolTipContent:"Cancel",onClick:function(){return t(e)},visible:!0}];return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(ii,{buttons:v})})}}];return(0,q.jsx)(kn.Z,{className:Zt.table,size:"small",columns:s,dataSource:n,bordered:!1,pagination:!1,emptyText:"No Open Orders"})},ai=function(e){var n=e.tradeShowArgs,t=e.successCb,i=(0,c.sJ)(nn),r=(0,o.useState)(!1),a=l()(r,2),s=a[0],u=a[1],d=(0,o.useState)({}),p=l()(d,2),v=p[0],m=p[1],f=(0,o.useState)(void 0),y=l()(f,2),x=y[0],g=y[1],h=(0,o.useState)(sn.Q),_=l()(h,2),b=_[0],j=_[1],N=(0,o.useMemo)((function(){var e=b*sn.I,n=e-sn.I;return i.slice(n,e)}),[b,i]);return(0,o.useEffect)((function(){void 0!==x&&N[x]&&m(N[x])}),[N]),(0,q.jsxs)(q.Fragment,{children:[s&&v&&(0,q.jsx)(Ht,{isVisible:s,setIsVisible:u,tradeShowArgs:n,row:v,successCb:t}),(0,q.jsxs)("div",{className:Zt.card,children:[(0,q.jsx)(ri,{orders:N,handleCancel:function(e){var i,r,a,l;(i=n,r=e.isIncrease,a=null==e?void 0:e.orderID,l=null==e?void 0:e.isLong,i.market.cancelOrder(r,Number(a),l)).then((function(e){t(),u(!1)})).catch((function(e){return console.log("handleCancel err",e)})).finally((function(){}))},handleEdit:function(e,n){g(n),m(e),u(!0)},handleCancelAll:function(){(function(e,n){var t=[],i=[],r=[];return null==n||n.forEach((function(e){t.push(e.isIncrease),i.push(Number(e.orderID)),r.push(e.isLong)})),e.market.cancelOrderList(t,i,r)})(n,N).then((function(e){t()})).catch((function(e){return console.log("cancel All",e)}))}}),!(null==N||!N.length)&&(0,q.jsx)(ln.Z,{data:N,pageIndex:b,setPageIndex:j,_data:i})]})]})},li="orderPanel___weQ4q",si="tabList___iDvkP",oi="tabItem___UJec7",ci="selected___lGODG",ui="header___Y18Vk",di="right___ExK0Y",pi="switch___yJrUb",vi="overlay___LURQM",mi="collateral___I5qZP",fi="collateralTxt___sEChq",yi="card___XRXfM",xi=t(81913),gi=function(){var e=_()(g()().mark((function e(n,t,i){var r,a,l;return g()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={isLimit:t.isLimit,sizeDelta:(0,Ce._b)(0),price:(0,Ce._b)(0),slippage:(0,Ce._b)(0),isLong:t.isLong,isExec:!1,account:n.accountAddress,isKeepLev:t.keepLeverage},a=n.market,r.sizeDelta=a.getNumDecimals(t.sizeDelta),r.price=a.getPriceDecimals(t.price),r.slippage=a.getSlippageDecimals(a.formatPercentage(n.slippage)),e.next=7,a.decreaseTrade(r,i);case 7:return l=e.sent,e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(n,t,i){return e.apply(this,arguments)}}(),hi=t(72639),_i=t(81856),bi="overlay___RTa3F",ji="title___p13nO",Ni="label___LLPov",Pi="line___dve5j",wi="questionIcon___Xi1Af",Li=function(e){var n=e.fundingFee,t=e.positionFee,i=e.isLimit,r=e.executionFee,a=e.fees,l=e.afterFees;return(0,q.jsx)(q.Fragment,{children:Qt((0,q.jsxs)("div",{className:Pi,children:["Fees",(0,q.jsx)(Sn.Z,{overlayStyle:{maxWidth:320},placement:"bottom",overlay:(0,q.jsxs)("div",{className:bi,children:[(0,q.jsx)("div",{className:Ni,children:(0,q.jsx)("span",{className:ji,children:"Fees"})}),t&&(0,q.jsx)("div",{className:Ni,children:"".concat(i?"Open":"Close"," Fee: ").concat((0,te.dp)(t).display())}),n&&(0,q.jsx)("div",{className:Ni,children:"Funding Fee: ".concat((0,te.dp)(n).display())}),r&&(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("div",{className:Ni,children:"Execution Fee: ".concat((0,te.dp)(i?r:"0").display())}),(0,q.jsx)("div",{className:Ni,children:"The execution fee is only charged when the order is executed or canceled due to invalid execution."})]})]}),children:(0,q.jsx)("div",{className:wi,children:(0,q.jsx)(_i.r,{})})})]}),a,l||"")})},Ti="header___cnc5K",Ci="submitBtn___GOq9M",Si="tabList___Ynh2Z",ki="tabItem___mxzqS",Fi="selected___hpXfr",Ii="dField___smjTW",Mi="field___gznn3",Di="fields___jqoiL",Oi="label___d6Gje",Ai="value___VUuPy",Ei="modal___yrezj",Ri="tabs___bazyO",zi="cut___xmhqm",Qi="receive___P7iU3",Zi=function(){return(0,q.jsx)("div",{className:zi})},Bi=function(e){var n,t=e.isVisible,i=e.setIsVisible,r=e.row,a=void 0===r?{}:r,u=e.tradeShowArgs,d=e.successCb,v=a.size,f=void 0===v?"2000.999999":v,y=a.initialCollateral,x=void 0===y?"200,000000000001":y,g=a.leverage,h=void 0===g?"10.000001":g,_=a.fundingFee,b=void 0===_?"20":_,N=a.liqPrice,P=void 0===N?"0.00000001":N,w=a.indexPrice,L=(0,s.Ge)(),T=L.active,C=L.chainId,S=L.account,k=(0,xi.eI)(C,S).userReferrerCode,F=(0,o.useState)(0),I=l()(F,2),M=I[0],D=I[1],O=(0,o.useState)(""),A=l()(O,2),E=A[0],R=A[1],z=(0,o.useState)(w),Q=l()(z,2),Z=Q[0],B=Q[1],H=(0,o.useState)(!0),V=l()(H,2),U=V[0],J=V[1],Y=(0,o.useState)(!1),G=l()(Y,2),K=G[0],W=G[1],X=(0,o.useState)("0.3"),$=l()(X,2),ee=$[0],ne=$[1],ie=null!==(n=+(null==u?void 0:u.cleanFee))&&void 0!==n?n:"5.0",re=(0,c.sJ)(Ge),ae=Ae.getCoinBasedSizeByUSD((0,te.Q6)(f),(0,te.Q6)(null==a?void 0:a.averagePrice)),le=re?ae.toFixed(hi.FQ,1):(0,te.Q6)(f).toFixed(hi.Bx,1),se=re?hi.FQ:hi.Bx;function ce(){return re?!!(0,te.Q6)(E).minus(le).gte(0):+E==+le}var ue=(0,o.useMemo)((function(){return(0,oe.D4)(a.pair)}),[null==a?void 0:a.pair]),de=(0,o.useMemo)((function(){return re&&a&&null!=u&&u.market?ce()?(0,te.Q6)(f).toFixed(2,1):(0,te.Q6)(E||0).multipliedBy((0,te.Q6)(a.averagePrice)).toFixed(2,1):E}),[E,ae,a,re,le,a.size,null==a?void 0:a.averagePrice,null==u?void 0:u.market]),pe=(0,o.useMemo)((function(){return a?re?"".concat(le," ").concat(ue):"$".concat(le):"-"}),[re,le,ue]);var ve=(0,o.useMemo)((function(){var e=0!==M,n=ce(),t=function(e,n,t,i,r,a,l){var s,o,c,u=n.initialCollateral,d=void 0===u?"200":u,p=n.executionFee,v=void 0===p?"0.09":p,f=n.fundingFee,y=void 0===f?"10":f,x=n.feeRate,g=n.size,h=void 0===g?"2000":g,_=new nt.O(d),b=new nt.O(i||0),j=new nt.O(h),N=j.minus(b).isGreaterThan(0)?j.minus(b):new nt.O(0),P=j.minus(b).isGreaterThan(0),w=null==b?void 0:b.gt(0),L=new nt.O(x),T=a?new nt.O(v):0,C=new nt.O(y),S=b.dividedBy(j),k=null==e?void 0:e.fundFeeRate,F=+i>0?b.multipliedBy(L):j.multipliedBy(L),I=C.plus(T).plus(F),M=new nt.O(Je(m()(m()({},n),{},{indexPrice:t,size:b.toString()}),null==e?void 0:e.openFeeRate,k)),D=w?l?_.plus(M).minus(I):r?_.multipliedBy(S).plus(M).minus(I):M.minus(I):new nt.O(0),O=l?new nt.O(0):r?P?new nt.O(1).minus(S).multipliedBy(_):new nt.O(0):_;D.lte(0)&&!l&&(O=O.plus(D));var A=M.toString(),E=N.toString(),R=P&&O.gt(0)?N.dividedBy(O).toString():"0.01",z=(0,te.Q6)((null==e||null===(s=e.market)||void 0===s||null===(o=s._valid)||void 0===o||null===(c=o.maxLev)||void 0===c?void 0:c.toNumber())||100),Q=(0,te.Q6)(null==e?void 0:e.openFeeRate),Z=(0,te.Q6)(null==e?void 0:e.cleanFee),B=Ue(m()(m()({},n),{},{fundingFee:"0",size:N.toString(),collateral:O.toString()}),null==n?void 0:n.feeRate,z,Q,Z),H=new nt.O(+Je(m()(m()({},n),{},{indexPrice:t,size:null==N?void 0:N.toString()}),null==e?void 0:e.openFeeRate,k)),V=N.multipliedBy(L),q=O.plus(H).minus(V).toString(),U=M.dividedBy(_).multipliedBy(100);return{nextSize:E,nextLeverage:R,nextLiqPrice:null==B?void 0:B.toString(),nextCollateral:O.toString(),receive:D.toString(),nextPNL:A,nextPNLRate:U.toString(),fees:I.toString(),positionFee:F.toString(),nextNetValue:q.toString(),ifAll:l}}(u,a,w,de,U,e,n),i=e?null==u?void 0:u.executionFee:"0";return m()(m()({isLimit:e},t),{},{executionFee:i})}),[de,le,M,U,Z,w,f]),me=ve.nextSize,fe=ve.nextCollateral,ye=ve.nextLeverage,xe=ve.nextLiqPrice,ge=ve.isLimit,he=ve.receive,_e=ve.nextPNL,be=ve.fees,je=ve.positionFee,Ne=ve.nextNetValue,Pe=ve.nextPNLRate,we=ve.ifAll,Le=ve.executionFee,Te=function(){var e=function(){if(!Z&&M)return"Enter a price";if(M){var e=we?P:xe;if(null!=a&&a.isLong&&+Z<+e)return"Price below liq. price";if((null==a||!a.isLong)&&+Z>+e)return"Price above liq. price"}if(!+E)return"Enter an amount";if(+E>+le)return"Max close amount exceeded";if(!we){if(+ye<2)return" Min leverage: 2.00x";if(+ye>100)return"Max leverage: 100.00x";if(+fe<ie)return"Leftover collateral size below ".concat(ie," USD");if(+Ne<ie)return"Leftover net value size below ".concat(ie," USD")}return K?M?"Creating order...":"Closing...":""}();return e?{btnTxt:e,btnValid:!1}:{btnTxt:M?"Create order":"Close",btnValid:!0}},Ce=(0,o.useMemo)((function(){return+E>+(null==a?void 0:a.size)?{btnTxt:"Max close amount exceeded",btnValid:!1}:Te()}),[f,Z,de,E,K,U,Ne,fe,ye,M,P,xe,le]),Se=Ce.btnTxt,ke=Ce.btnValid,Fe=(0,o.useMemo)((function(){return re&&a?Ae.getCoinBasedSizeByUSD((0,te.Q6)(me),(0,te.Q6)(null==a?void 0:a.averagePrice)).toFixed(hi.FQ,1):(0,te.Q6)(me).toFixed(se,1)}),[re,me,null==a?void 0:a.averagePrice,2,E]);return(0,q.jsx)("div",{className:Ei,children:(0,q.jsxs)(it.Z,{title:"Close ".concat(null!=a&&a.isLong?"Long":"Short"," ETH"),onClose:function(){return i(!1)},visible:t,width:512,children:[(0,q.jsx)("div",{className:Ri,children:(0,q.jsx)(Qe.O.Group,{defaultIndex:M,onChange:function(e){R(""),B(""),D(e)},children:(0,q.jsx)("div",{className:Ti,children:(0,q.jsxs)(Qe.O.List,{className:Si,children:[(0,q.jsx)(Qe.O,{className:function(e){var n=e.selected;return j()(ki,p()({},Fi,n))},children:"Market"}),(0,q.jsx)(Qe.O,{className:function(e){var n=e.selected;return j()(ki,p()({},Fi,n))},children:"Trigger"})]})})})}),(0,q.jsx)(rt.tV,{value:ge?Z:w,disabled:!ge,onChange:B,decimals:2}),(0,q.jsxs)("div",{className:Ii,children:[(0,q.jsxs)("div",{className:Mi,children:[(0,q.jsxs)("div",{className:Oi,children:["Index Price:",(0,q.jsx)("span",{children:""})]}),(0,q.jsxs)("div",{className:Ai,children:[" $",w]})]}),(0,q.jsxs)("div",{className:Mi,children:[(0,q.jsxs)("div",{className:Oi,children:["Available:",(0,q.jsx)("span",{children:""})]}),(0,q.jsx)("div",{className:Ai,children:pe})]})]}),(0,q.jsx)(rt.gp,{label:"Close",symbol:re?ue:"USDC",onClickMaxBtn:function(){a.size&&!(0,te.Q6)(a.size).eq(0)?R((0,te.dp)(le).number.toFixed(se,1)):R("0")},value:E,onChange:function(e){R(e)}}),!ge&&(0,q.jsx)(wt,{value:{slippage:ee},ifSlippage:!0,onChange:function(e){ne((null==e?void 0:e.slippage)||"")}}),(0,q.jsxs)("div",{className:Di,children:[Qt("Position Size",le,Fe,re?"":"$",re?" ".concat((0,oe.D4)(a.pair)):"",{formatNextValue:function(e){return e},displayDecimals:se}),Qt("Collateral",x,0==+E?x:fe,"$"),Qt("Leverage",h,0==+E?h:ye,"","x",{defaultValue:"0.01"===ye?"-":""}),(0,q.jsxs)("div",{className:Mi,children:[(0,q.jsx)("div",{className:Oi,children:"PNL"}),(0,q.jsx)("div",{className:Ai,children:+E>0?un(_e,Pe):un(null==a?void 0:a.PNL,null==a?void 0:a.PNLRate)})]}),(0,q.jsx)(Li,{fundingFee:b,positionFee:je,executionFee:Le,isLimit:ge,fees:be}),(0,q.jsxs)("div",{className:Mi,children:[(0,q.jsx)("div",{className:Oi,children:"Keep Leverage"}),(0,q.jsx)("div",{className:Ai,children:(0,q.jsx)(et,{checked:U,onChange:J})})]}),(0,q.jsx)(Zi,{}),(0,q.jsxs)("div",{className:Mi,children:[(0,q.jsx)("div",{className:Oi,children:"Entry Price"}),(0,q.jsx)("div",{className:Ai,children:(0,te.dp)(null==a?void 0:a.averagePrice).display()})]}),we?Qt("Liq. Price","0",void 0,"$"):Qt("Liq. Price",P,isFinite(+xe)?+E>0?xe:P:"0.000001","$")]}),(0,q.jsx)(Zi,{}),(0,q.jsxs)("div",{className:Di,children:[Qt("Spread","0",void 0,"","%"),Qt("Slippage",ee||"0.3","","","%"),(0,q.jsx)("div",{className:Qi,children:Qt("Receive",+he>0?he:"0",void 0,""," USDC",{displayDecimals:hi.FQ})})]}),(0,q.jsx)(tt.Z,{className:Ci,size:"large",disabled:K||!ke,onClick:function(){T&&S&&(W(!0),gi(u,{keepLeverage:U,slippage:ee,sizeDelta:ce()?a.size:re?(0,te.Q6)(E).multipliedBy(null==a?void 0:a.averagePrice).toString():E,price:Z,isLong:null==a?void 0:a.isLong,isLimit:ge,nextSize:me,nextPNL:_e},k).then((function(e){i(!1),d()})).catch((function(e){return console.log("confirm",e)})).finally((function(){W(!1)})))},children:Se})]})})},Hi=function(e){var n=e.isVisible,t=e.setIsVisible,i=e.row,r=void 0===i?{}:i,a=e.market,c=e.tradeShowArgs,u=e.successCb,d=r.collateral,v=void 0===d?"200":d,f=r.leverage,y=void 0===f?"10":f,x=r.fundingFee,g=void 0===x?"20":x,h=r.liqPrice,_=void 0===h?"0.001":h,b=r.isLong,N=r.indexPrice,P=(0,o.useState)(0),w=l()(P,2),L=w[0],T=w[1],C=(0,o.useState)(""),S=l()(C,2),k=S[0],F=S[1],I=(0,s.Ge)(),M=I.active,D=I.account,O=(0,o.useState)(!1),A=l()(O,2),E=A[0],R=A[1],z="Deposit",Q=(0,o.useMemo)((function(){return 0===L}),[L]),Z=(0,o.useMemo)((function(){return function(e,n,t,i,r,a){e.collateral;var l,s,o,c=e.size,u=e.fundingFee,d=e.initialCollateral,p=new nt.O(u),v=new nt.O(t),f=t?function(e){var t,i,r,a=n?"plus":"minus";return null===(t=new nt.O(d))||void 0===t||null===(i=t[a])||void 0===i||null===(r=i.call(t,new nt.O(e)).minus(p.lt(0)&&!n?0:p))||void 0===r?void 0:r.toString()}(t):null==e?void 0:e.collateral,y=t?new nt.O(null==e?void 0:e.size).dividedBy(new nt.O(f)).toString():null==e?void 0:e.leverage,x=t?"0":u,g=new nt.O(c),h=(0,te.Q6)(null==a||null===(l=a.market)||void 0===l||null===(s=l._valid)||void 0===s?void 0:s.maxLev.toNumber()),_=(0,te.Q6)(null==a?void 0:a.cleanFee),b=(0,te.Q6)(null==a?void 0:a.openFeeRate),j=t&&Ue(m()(m()({},e),{},{collateral:null===(o=new nt.O(f).plus(p))||void 0===o?void 0:o.toString()}),null==e?void 0:e.feeRate,h,b,_)||"",N=new nt.O(d).minus(u).minus(g.dividedBy(hi.cZ).isLessThan(10)?10:g.dividedBy(hi.cZ));return{nextCollateral:f,nextLeverage:y,nextFund:x,nextLiqPrice:j,nextAvlb:n?i:N.isGreaterThan(0)?N.toString():"0",delta:(n||p.gte(0)?v:v.minus(p)).toString()}}(r,Q,k,null==c?void 0:c.avlb,0,c)}),[k,L,N,Q]),B=Z.nextCollateral,H=Z.nextLeverage,V=Z.nextLiqPrice,U=Z.nextAvlb,J=Z.delta,Y=function(){var e=function(){if(!+k)return"Enter an amount";if(!Q){if(b&&+V>+N)return"Invalid liq.price";if(!b&&+V<+N)return"Invalid liq.price"}return!L&&+k>+U?"Insufficient USDC balance":L&&+B<10?"Min residual collateral: 10 USD":+H<2?" Min leverage: 2.00x":+H>100?"Max leverage: 100.00x":E?L?"Withdrawing...":"Depositing...":""}();return e?{btnTxt:e,btnValid:!1}:{btnTxt:L?"Withdraw":"Deposit",btnValid:!0}},G=(0,o.useMemo)((function(){return Y()}),[L,k,E,Q,b,N,V,U,B,H]),K=G.btnTxt,W=G.btnValid;return(0,q.jsx)("div",{className:Ei,children:(0,q.jsxs)(it.Z,{title:"Edit Collateral",onClose:function(){return t(!1)},visible:n,width:512,children:[(0,q.jsx)("div",{className:Ri,children:(0,q.jsx)(Qe.O.Group,{defaultIndex:L,onChange:function(e){F(""),T(e)},children:(0,q.jsx)("div",{className:Ti,children:(0,q.jsxs)(Qe.O.List,{className:Si,children:[(0,q.jsx)(Qe.O,{className:function(e){var n=e.selected;return j()(ki,p()({},Fi,n))},children:z}),(0,q.jsx)(Qe.O,{className:function(e){var n=e.selected;return j()(ki,p()({},Fi,n))},children:"Withdraw"})]})})})}),(0,q.jsx)(rt.gp,{onClickMaxBtn:function(){F((0,te.dp)(U).number.toFixed(Q?4:2,1))},value:k,onChange:function(e){F(e)},label:Q?"Pay":"Receive"}),(0,q.jsxs)("div",{className:Di,children:[(0,q.jsxs)("div",{className:Mi,children:[(0,q.jsxs)("div",{className:Mi,children:[(0,q.jsxs)("div",{className:Oi,children:[(Q?z:"Withdraw")+": ",(0,q.jsx)("span",{children:""})]}),(0,q.jsx)("div",{className:Ai,children:(0,te.dp)(""===k?"0":k).display()})]}),(0,q.jsxs)("div",{className:Mi,children:[(0,q.jsxs)("div",{className:Oi,children:[Q?"Balance: ":"Available: ",(0,q.jsx)("span",{children:""})]}),(0,q.jsx)("div",{className:Ai,children:(0,te.dp)(U,Q?4:2).display({suffix:Q?" USDC":"",prefix:Q?"":"$"})})]})]}),Qt("Collateral",v,B,"$"),Qt("Leverage",y,H,"","X"),(0,q.jsxs)("div",{className:Mi,children:[(0,q.jsx)("div",{className:Oi,children:"Index Price"}),(0,q.jsx)("div",{className:Ai,children:(0,te.dp)(N).display()})]}),Qt("Liq. Price",_,V,"$"),(0,q.jsx)(Li,{fundingFee:g,fees:g,afterFees:+k>0?"0.00000001":""})]}),(0,q.jsx)(tt.Z,{className:Ci,disabled:E||!W,size:"large",onClick:function(){M&&D&&(R(!0),function(e,n,t,i){if(t){var r=t.getNumDecimals(n);return i?t.increaseCollateral(r,e):(console.log("---decreaseCollateral----amount-isLong-isDeposit-bigAmount",n,e,i,r.toString()),t.decreaseCollateral(r,e))}return Promise.resolve("confirmEditCollateral failed")}(null==r?void 0:r.isLong,J,a,Q).then((function(e){console.log("collateral succussed",e),u(),t(!1)})).catch((function(e){return console.log("confirm",e)})).finally((function(){R(!1)})))},children:K})]})})},Vi="table___XB6MA",qi="position___Dwf6N",Ui="postionHlgt___apngF",Ji="pos___wBIvY",Yi="long___fCOYz",Gi="short___miFCO",Ki="positionList___o82d0",Wi="containerH5___XiJLb",Xi="positionLeft___JDFdk",$i="field___eLfxe",er="label___lrAei",nr="text___y9DiE",tr="pnlText___RcCTf",ir="btnsH5___PgCSD",rr="btnH5___mI2KK",ar="warning___mid7Z",lr="warningContent___rHgLN",sr="loading___bfhIM",or="color100___ZmByU",cr=function(e,n,t){e!==n&&t(e)},ur=t(13341),dr=function(e){var n=e.row,t=e.handleEditCollateral;return(0,q.jsx)("div",{children:(0,q.jsxs)("div",{className:mi,children:[(0,q.jsx)(Sn.Z,{placement:"bottom",overlayStyle:{maxWidth:350},overlay:(0,q.jsxs)("div",{className:vi,children:["Collateral",(0,q.jsx)("br",{}),"Collateral:  Initial Collateral - Funding Fee",(0,q.jsx)("br",{}),(0,q.jsx)(Wt.Z,{label:"Initial Collateral: ",value:Math.abs(+(null==n?void 0:n.initialCollateral)).toString(),prefix:+(null==n?void 0:n.initialCollateral)<0?"-$":"+$"}),(0,q.jsx)("br",{}),(0,q.jsx)(Wt.Z,{label:"Funding Fee: ",value:null==n?void 0:n.fundingFee,prefix:"$"}),(0,q.jsx)("br",{}),(0,q.jsx)(Wt.Z,{label:"Funding Fee / Day: ",value:null==n?void 0:n.fundFeeDay,prefix:"$"}),(0,q.jsx)("br",{}),"Use the Edit Collateral icon to deposit or withdraw collateral."]}),children:(0,q.jsx)(Cn.Z.Text,{className:fi,children:(0,q.jsx)(Wt.Z,{value:n.collateral,prefix:"$"})})}),(0,q.jsx)(ur.$iz,{style:{cursor:"pointer"},size:"16",onClick:function(){return t()}})]})})},pr=function(e){var n=e.openCloseFee,t=e.PNLAfterFees,i=e.pnlAfterFeesRate;return(0,q.jsxs)("div",{className:mi,children:[(0,q.jsx)(Sn.Z,{placement:"bottom",overlay:(0,q.jsxs)("div",{className:vi,children:["Net Value",(0,q.jsx)("br",{}),"Net Value: Initial Collateral + PnL - Funding Fee - Close Fee",(0,q.jsx)("br",{}),"Initial Collateral: ".concat((null==e||e.initialCollateral,(0,te.dp)(Math.abs(+(null==e?void 0:e.initialCollateral)).toString()).display())),(0,q.jsx)("br",{}),"PnL: ".concat(+(null==e?void 0:e.PNL)>0?(0,te.dp)(Math.abs(+(null==e?void 0:e.PNL)).toString()).display({prefix:"+$"}):(0,te.dp)(Math.abs(+(null==e?void 0:e.PNL)).toString()).display({prefix:"-$"})),(0,q.jsx)("br",{}),"Funding Fee: ".concat((0,te.dp)(null==e?void 0:e.fundingFee).display()),(0,q.jsx)("br",{}),"Open Fee: ".concat((0,te.dp)(null==n?void 0:n.toString()).display()),(0,q.jsx)("br",{}),"Close Fee: ".concat((0,te.dp)(null==n?void 0:n.toString()).display()),(0,q.jsx)("br",{}),"PnL After Fees:",un(null==t?void 0:t.toString(),null==i?void 0:i.toString(),!1)]}),children:(0,q.jsx)("div",{className:fi,children:(0,te.dp)(null==e?void 0:e.netValue).display()})}),(0,q.jsx)("span",{children:un(null==e?void 0:e.PNL,null==e?void 0:e.PNLRate)})]})},vr=t(72347),mr="content___VzqrF",fr="coin___lxZ8a",yr="operationContainer___pVVjp",xr="longColor___i6mFX",gr="shortColor___kUd2O",hr="leverageText___M5MFB",_r="pnlContainer___qPyrN",br="pnl___m2VoU",jr="pnlValue___QYeuB",Nr="prices___kiXby",Pr="priceContainer___BYY83",wr="priceTitle___MzCfX",Lr="priceValue____kzul",Tr=function(e){var n=e.row,t=e.children,i=n.isLong,r=n.pair,a=n.leverage,l=n.PNLRate,s=n.averagePrice,o=n.indexPrice;return(0,q.jsx)(vr.T,{title:"Share Position",downloadName:"Dei.io_share",coin:r,content:(0,q.jsx)(vr.v,{startTimestamp:Date.now(),children:(0,q.jsxs)("div",{className:mr,children:[(0,q.jsxs)("span",{className:fr,children:[r," Perpetual"]}),(0,q.jsxs)("div",{className:yr,children:[(0,q.jsx)("span",{className:i?xr:gr,children:i?"LONG":"SHORT"}),(0,q.jsx)("span",{className:hr,children:(0,te.dp)(a,2).display({suffix:"x",prefix:""})})]}),(0,q.jsxs)("div",{className:_r,children:[(0,q.jsx)("span",{className:br,children:"PNL"}),(0,q.jsx)("span",{className:"".concat(jr," ").concat(Number(l)<0?gr:xr),children:Number(l)>0?(0,te.dp)(l).display({suffix:"%",prefix:"+"}):(0,te.dp)(Math.abs(+l)).display({prefix:"-",suffix:"%"})})]}),(0,q.jsx)("div",{className:Nr,children:[{titleId:"Entry",price:s},{titleId:"Index",price:o}].map((function(e){return(0,q.jsxs)("div",{className:Pr,children:[(0,q.jsxs)("span",{className:wr,children:[(0,q.jsx)(Ze._H,{id:e.titleId})," ",(0,q.jsx)(Ze._H,{id:"Price"})]}),(0,q.jsx)("span",{className:Lr,children:(n=e.price,n?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n):"$--")})]},e.titleId);var n}))})]})}),children:(0,q.jsx)("span",{children:t})})},Cr=Object.defineProperty,Sr=Object.getOwnPropertySymbols,kr=Object.prototype.hasOwnProperty,Fr=Object.prototype.propertyIsEnumerable,Ir=(e,n,t)=>n in e?Cr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const Mr=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))kr.call(n,t)&&Ir(e,t,n[t]);if(Sr)for(var t of Sr(n))Fr.call(n,t)&&Ir(e,t,n[t]);return e})({width:17,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{fill:"#1E1E1E",d:"M0 0h17v16H0z"}),o.createElement("path",{fill:"#060818",d:"M-287-2189h4040v5354H-287z"}),o.createElement("rect",{x:-167,y:-98,width:1400,height:404,rx:16,fill:"#151729"}),o.createElement("path",{fill:"#232538",d:"M-167-12h1400v40H-167z"}),o.createElement("path",{d:"m6.5 11 3-3-3-3",stroke:"#fff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}));var Dr=(0,oe.tq)()?function(e){var n=e.data,t=e.handleClosePositon,i=e.handleEditCollateral,r=(0,c.FV)(ce.bI),a=l()(r,2),s=a[0],o=a[1];return(0,q.jsx)("div",{className:Ki,children:n.map((function(e,n){var r;return(0,q.jsxs)("div",{className:Wi,children:[(0,q.jsxs)("div",{className:qi,onClick:function(){return cr(null==e?void 0:e.pair,(null==s?void 0:s.name)||"",o)},children:[(0,q.jsxs)("div",{className:Xi,children:[(0,q.jsxs)("div",{children:[" ",e.pair," "]})," ",(0,q.jsxs)("div",{children:[Number(null==e?void 0:e.leverage).toFixed(2),"x"]})," ",(0,q.jsx)("div",{className:j()(Ji,(r={},p()(r,Yi,e.isLong),p()(r,Gi,!e.isLong),r)),children:e.isLong?"Long":"Short"})," "]}),(0,q.jsx)("span",{className:tr,children:un(null==e?void 0:e.PNL,null==e?void 0:e.PNLRate)})]}),[{renderTitle:function(){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Ze._H,{id:"Postion"})," ",(0,q.jsx)(Ze._H,{id:"Size"})]})},value:(0,q.jsx)(Kt,{entryPrice:e.averagePrice,symbol:(0,oe.D4)(e.pair),usdSize:e.size})},{renderTitle:function(){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Ze._H,{id:"Net"})," ",(0,q.jsx)(Ze._H,{id:"Value"})]})},value:(0,te.dp)(null==e?void 0:e.netValue).display()},{renderTitle:function(){return(0,q.jsx)(Ze._H,{id:"Collateral"})},value:(0,q.jsx)(dr,{row:e,handleEditCollateral:i})},{renderTitle:function(){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Ze._H,{id:"Open"})," ",(0,q.jsx)(Ze._H,{id:"Price"})," / ",(0,q.jsx)(Ze._H,{id:"Mark"})," ",(0,q.jsx)(Ze._H,{id:"Price"})]})},value:"".concat((0,te.dp)(null==e?void 0:e.averagePrice).display()," / ").concat((0,te.dp)(null==e?void 0:e.indexPrice).display())},{renderTitle:function(){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(Ze._H,{id:"Liq"}),". ",(0,q.jsx)(Ze._H,{id:"Price"})]})},value:(0,te.dp)(e.liqPrice).display()}].map((function(e,n){return(0,q.jsxs)("div",{className:$i,children:[(0,q.jsx)("span",{className:er,children:e.renderTitle()}),(0,q.jsx)("span",{className:nr,children:e.value})]},n)})),(0,q.jsxs)("div",{className:ir,children:[(0,q.jsx)("div",{className:rr,onClick:function(){return t(e,n)},children:(0,q.jsx)(Ze._H,{id:"Close"})}),(0,q.jsxs)("div",{className:rr,onClick:function(){return i(e)},children:[(0,q.jsx)(Ze._H,{id:"Edit"})," ",(0,q.jsx)(Ze._H,{id:"Collateral"})]}),(0,q.jsx)("div",{className:rr,children:(0,q.jsx)(Tr,{row:e,children:(0,q.jsx)(Ze._H,{id:"Share"})})})]})]},n)}))})}:function(e){var n=e.data,t=e.handleEditCollateral,i=e.handleClosePositon,r=(e.handleSelectMarket,(0,o.useState)(-1)),a=l()(r,2),s=a[0],u=a[1],d=(0,c.FV)(ce.bI),v=l()(d,2),f=v[0],y=v[1],x=function(e){u(e)},g=[{title:"Position",width:"20%",render:function(e,n,t){var i,r;return(0,q.jsxs)("div",{className:j()((i={},p()(i,qi,s!==t),p()(i,Ui,s===t),i)),onClick:function(){return cr(null==e?void 0:e.pair,(null==f?void 0:f.name)||"",y)},onMouseOver:function(){return x(t)},onMouseLeave:function(){return x(-1)},children:[(0,q.jsx)("div",{children:e.pair}),(0,q.jsx)("div",{children:(0,te.dp)(null==e?void 0:e.leverage,2).display({suffix:"x",prefix:""})}),(0,q.jsx)("div",{className:j()(Ji,(r={},p()(r,Yi,e.isLong),p()(r,Gi,!e.isLong),r)),children:e.isLong?"Long":"Short"}),s===t&&(0,q.jsx)("span",{style:{float:"right"},children:(0,q.jsx)(Mr,{})})]})}},{title:"Size",dataIndex:"size",key:"size",width:"10%",render:function(e,n){if(n.category&&0==+n.category)return(0,q.jsx)("span",{className:or,children:"Opening..."});var t=(0,oe.D4)(n.pair);return(0,q.jsx)(Kt,{entryPrice:n.averagePrice,symbol:t,usdSize:e})}},{width:"10%",title:"Collateral",render:function(e,n,i){return(0,q.jsx)(dr,{row:e,handleEditCollateral:function(){return t(e,i)}})}},{width:"15%",title:"Net Value",render:pr},{width:"10%",title:"Entry Price",dataIndex:"averagePrice",key:"averagePrice",render:function(e){return(0,q.jsx)(Wt.Z,{value:e,prefix:"$"})}},{width:"10%",title:"Index Price",render:function(e){return(0,q.jsx)(Wt.Z,{value:null==e?void 0:e.indexPrice,prefix:"$"})}},{width:"10%",title:"Liq. Price",dataIndex:"liqPrice",render:function(e){return(0,q.jsx)(Wt.Z,{value:e,prefix:"$"})}},{width:"15%",title:"",render:function(e,n,r){var a={svgName:"share",toolTipContent:"Share Position"},l=[{svgName:"loading",append:"png",toolTipContent:"Opening...",imgClass:sr,visible:!!e.category&&0==+e.category},{svgName:"closing",append:"png",toolTipContent:"Closing...",imgClass:sr,visible:!!e.category&&(1==+e.category||2==+e.category)},{svgName:"warningRed",toolTipContent:(0,q.jsxs)("div",{className:ar,children:[(0,q.jsx)("div",{children:"WARNING"}),(0,q.jsx)("div",{className:lr,children:"This position has a low amount of collateral after deducting borrowing fees, deposit more collateral to reduce the position's liquidation risk."})]}),visible:function(e){var n=(0,te.Q6)(null==e?void 0:e.initialCollateral).minus(null==e?void 0:e.fundingFee);return!!(null!=n&&n.lt(8)||(0,te.Q6)(null==e?void 0:e.size).dividedBy(n).gte(150))}(e),overlayStyle:{minWidth:320}},{slot:(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(Tr,{row:e,children:(0,q.jsx)(ti,m()({},a))})}),visible:!0},{svgName:"edit",toolTipContent:"Edit Collateral",onClick:function(){return t(e,r)},visible:!0},{svgName:"power",toolTipContent:"Close",onClick:function(){return i(e,r)},visible:!0}];return(0,q.jsx)(q.Fragment,{children:0!=+(null==e?void 0:e.size)&&(0,q.jsx)(ii,{buttons:l})})}}];return(0,q.jsx)(kn.Z,{className:Vi,size:"small",columns:g,dataSource:n,bordered:!1,pagination:!1,emptyText:"No Open Positions"})},Or=function(e){var n=e.market,t=e.successCb,i=e.tradeShowArgs,r=(0,o.useState)(),a=l()(r,2),s=a[0],u=a[1],d=(0,o.useState)(),p=l()(d,2),v=p[0],m=p[1],f=(0,o.useState)(void 0),y=l()(f,2),x=y[0],g=y[1],h=(0,o.useState)(void 0),_=l()(h,2),b=_[0],j=_[1],N=(0,o.useState)(!1),P=l()(N,2),w=P[0],L=P[1],T=(0,o.useState)(!1),C=l()(T,2),S=C[0],k=C[1],F=(0,c.sJ)(en),I=(0,o.useState)(sn.Q),M=l()(I,2),D=M[0],O=M[1],A=(0,o.useMemo)((function(){var e=D*sn.I,n=e-sn.I;return F.slice(n,e)}),[D,F]);return(0,o.useEffect)((function(){void 0!==x&&A[x]&&u(A[x]),void 0!==b&&A[b]&&m(A[b])}),[A]),(0,q.jsxs)(q.Fragment,{children:[w&&v&&(0,q.jsx)(Hi,{isVisible:w,setIsVisible:L,row:v,market:n,tradeShowArgs:i,successCb:t}),S&&s&&(0,q.jsx)(Bi,{isVisible:S,setIsVisible:k,row:s,tradeShowArgs:i,successCb:t}),(0,q.jsxs)("div",{className:yi,children:[(0,q.jsx)(Dr,{data:A,handleClosePositon:function(e,n){k(!0),u(e),g(n)},handleEditCollateral:function(e,n){L(!0),m(e),j(n)}}),!(null==A||!A.length)&&(0,q.jsx)(ln.Z,{data:A,pageIndex:D,setPageIndex:O,_data:F})]})]})},Ar=t(39657),Er=function(e,n){var t,i,r=null==n?void 0:n.map((function(e){return e.name})),a={};return r.forEach((function(n,t){var i,r;return a[n]="BigNumber"===(null==e||null===(i=e[t])||void 0===i?void 0:i.type)?(0,Ce.dN)(null==e||null===(r=e[t])||void 0===r?void 0:r.hex,18):null==e?void 0:e[t]})),Object.keys(a).forEach((function(e){Ar.O$.isBigNumber(a[e])&&"category"!==e&&(a[e]=(0,Ce.dN)(a[e],18))})),a.category=null==a||null===(t=a.category)||void 0===t?void 0:t.toString(),m()(m()({},a),{},{lastTime:null===(i=Date.now())||void 0===i?void 0:i.toString()})},Rr=function(e){var n=(0,ie.x)().chainId,t=(0,s.Ge)().account,i=e.market,a=(e.infoTokens,e.tradeShowArgs),u=(e.showPnlAfterFees,(0,o.useState)(0)),d=l()(u,2),v=d[0],f=d[1],y=(0,c.FV)($e),x=l()(y,2),g=x[0],h=x[1],_=(0,c.FV)(Xe),b=l()(_,2)[1],N=Ee.I.useContainer(),P=N.tableFlag,w=N.setTableFlag,L=(0,c.FV)(Ke),T=l()(L,2)[1],C=(0,c.sJ)(en),S=(0,c.FV)(We),k=l()(S,2)[1],F=(0,c.sJ)(rn),I=(0,c.sJ)(an),M=(0,o.useCallback)((function(){for(var e,n,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];var s=Er(a,null==Gn||null===(e=Gn.abi)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.inputs)||{};if(s.account===t&&t){for(var o=null!=C&&C.length?r()(C):[],c=!1,u=0;u<(null==C?void 0:C.length);u++){var d=C[u];if(d.market===s.market&&d.isLong===s.isLong&&s.category&&d.account===s.account){o[u]=m()(m()({},d),{},{category:s.category}),c=!0;break}}!c&&o.unshift(m()(m()({},s),{},{pair:(null==s?void 0:s.pair)||"ETH/USD"})),T(o)}}),[]);(0,o.useEffect)((function(){if(!a)return k([]),T([]),void b([]);An(a).then((function(e){return k(e)})),Ve(a).then((function(e){return T(e)})),Vn(a).then((function(e){return b(e)}))}),[a,P,n]);var D=(0,o.useMemo)((function(){return null==i?void 0:i._contract}),[i]);(0,o.useEffect)((function(){if(D)return D.on("UpdatePosition",M),function(){D.off("UpdatePosition",M)}}),[D,M]);var O=function(){w(!P)};return(0,q.jsx)("div",{className:li,children:(0,q.jsxs)(Qe.O.Group,{defaultIndex:v,onChange:function(e){f(e)},children:[(0,q.jsxs)("div",{className:ui,children:[(0,q.jsxs)(Qe.O.List,{className:si,children:[(0,q.jsxs)(Qe.O,{className:function(e){var n=e.selected;return j()(oi,p()({},ci,n))},children:["Positions ",F]}),(0,q.jsxs)(Qe.O,{className:function(e){var n=e.selected;return j()(oi,p()({},ci,n))},children:["Orders ",I]}),(0,q.jsx)(Qe.O,{className:function(e){var n=e.selected;return j()(oi,p()({},ci,n))},children:"History"})]}),(0,q.jsxs)("div",{className:di,children:[(0,q.jsx)(Ze._H,{id:"Hide Other Pairs"}),(0,q.jsx)(et,{className:pi,checked:g,onChange:h})]})]}),(0,q.jsxs)(Qe.O.Panels,{children:[(0,q.jsx)(Qe.O.Panel,{children:(0,q.jsx)(Or,{successCb:O,market:i,tradeShowArgs:a},+P)}),(0,q.jsx)(Qe.O.Panel,{children:(0,q.jsx)(ai,{tradeShowArgs:a,successCb:O},+P)}),(0,q.jsx)(Qe.O.Panel,{children:(0,q.jsx)(Mn,{},+P)})]})]})})},zr=t(88709),Qr=t(20212),Zr=Object.defineProperty,Br=Object.getOwnPropertySymbols,Hr=Object.prototype.hasOwnProperty,Vr=Object.prototype.propertyIsEnumerable,qr=(e,n,t)=>n in e?Zr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const Ur=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))Hr.call(n,t)&&qr(e,t,n[t]);if(Br)for(var t of Br(n))Vr.call(n,t)&&qr(e,t,n[t]);return e})({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M11.478 18h3.478l5.294-6-5.294-6h-3.478l4.193 4.85H3.75v2.3h11.921L11.478 18Z",fill:"#F44364"}));Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Jr=Object.defineProperty,Yr=Object.getOwnPropertySymbols,Gr=Object.prototype.hasOwnProperty,Kr=Object.prototype.propertyIsEnumerable,Wr=(e,n,t)=>n in e?Jr(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const Xr=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))Gr.call(n,t)&&Wr(e,t,n[t]);if(Yr)for(var t of Yr(n))Kr.call(n,t)&&Wr(e,t,n[t]);return e})({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"M7.652 12h2.319L13.5 8 9.97 4H7.653l2.795 3.234H2.5v1.532h7.947L7.652 12Z",fill:"#3DDB7C"}));var $r="value___QTafV",ea="new___MFwco",na="old___nWboE",ta="arrowIcon___wpnLP",ia="red___ta54J",ra=function(e){var n,t,i=e.symbolPrefix,r=void 0===i?"$":i,a=e.suffix,l=void 0===a?"":a,s=e.hasExistingPosition,o=e.priceDisplay,c=function(e){return(0,te.dp)(e,2).display({prefix:r,suffix:l})};return(0,q.jsx)("div",{className:$r,children:(n=c(null==o?void 0:o.existingPositionPrice),t=c(null==o?void 0:o.mergePositionPrice),s&&o&&o.mergePositionPrice&&o.mergePositionPrice.gt(0)?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)("div",{title:n,className:na,children:n}),(0,q.jsx)(Xr,{className:j()(ta,p()({},ia,((null==o?void 0:o.rise)||0)<0))}),(0,q.jsx)("div",{title:t,className:ea,children:t})]}):(0,q.jsx)("div",{title:t,className:ea,children:t}))})},aa={arrowIcon:"arrowIcon___iG0uS",red:"red___cXHfH",header:"header___hkqkP",row:"row___gfzWa",price:"price___k5Z9o",tip:"tip___F0_el",title:"title___FCH8V",changeInfoItem:"changeInfoItem___LaDtd",titleLabel:"titleLabel___EWjyx",changeInfo:"changeInfo___rSff6",changeInfoText:"changeInfoText___RTV2Y",fields:"fields___x3gUc",field:"field___qxsTj",label:"label___J7n5A",value:"value___m6nh9",old:"old___CU5un",new:"new___dIyoY",cut:"cut___T5uNM",submitBtn:"submitBtn___aBHIR",longColor:"longColor___DWLUi"},la=Cn.Z.Text,sa=function(e){var n,t,i,r,a=e.size,l=e.slippage,s=e.liqPriceDisplay,u=e.positionFee,d=e.collateralDisplay,v=e.leverageDisplay,f=e.positionSizeDisplay,y=e.tradeShowArgs,x=e.fundingFee,g=e.hasExistingPosition,h=e.isPendingConfirmation,_=e.isMarketOrder,b=e.isLong,N=e.fromValue,P=e.toValue,w=e.toSymbol,L=e.entryPriceDisplay,T=e.executionFee,C=((0,ie.x)().chainId,e.visible),S=e.existingPosition,k=e.onClickSubmit,F=e.onClose,I=(0,c.sJ)(We),M=(0,c.sJ)(ce.bI),D=(0,c.sJ)(Ge),O=null===(n=(0,Ce.H2)((null==y||null===(t=y.market)||void 0===t||null===(i=t._args)||void 0===i?void 0:i.spread)||0,10))||void 0===n?void 0:n.toNumber();function A(e){return e?m()(m()({},e),{},{mergePositionPrice:Ae.getCoinBasedSizeByUSD(e.mergePositionPrice,L.mergePositionPrice),existingPositionPrice:Ae.getCoinBasedSizeByUSD(e.existingPositionPrice,L.existingPositionPrice)}):{mergePositionPrice:(0,te.Q6)(0),existingPositionPrice:(0,te.Q6)(0),rise:0}}var E=(0,o.useMemo)((function(){if(g)return" You already have an ".concat(b?"long":"short"," position that will increase the size of an existing position.");if(M){var e=(I||[]).filter((function(e){return"Trigger"===e.type&&e.pair===M.name&&e.isLong===b}));if(1===e.length)return"You have an active trigger order that could impact this Position";if(e.length>1)return"You have multiple active trigger orders that could impact this Position";var n=(I||[]).filter((function(e){return"Limit"===e.type&&e.pair===M.name&&e.isLong===b}));if(n.length>0)return n.length>1?"You have multiple existing Increase ".concat(b?"Long":"Short"," ").concat(w," limit orders"):"You have an active Limit Order that could impact this Position"}}),[M,I,S,b,g]),R=[{label:"Position Size",display:f,showCoinBased:D,prefix:D?"":"$",suffix:D?" ".concat(w):""},{label:"Leverage",display:v,prefix:"",suffix:"x"},{label:"Collateral",display:d}],z=(0,te.dp)(N);return(0,q.jsx)(it.Z,{width:512,title:_?"Confirm ".concat(w,b?" Long":" Short"):"Confirm Limit Order",onClose:F,visible:C,children:(0,q.jsxs)("div",{className:aa.wrapper,children:[(0,q.jsxs)("div",{className:aa.header,children:[(0,q.jsxs)("div",{className:aa.title,children:[(0,q.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iMTYiIGZpbGw9InVybCgjYSkiLz48cmVjdCB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHJ4PSIxNiIgZmlsbD0idXJsKCNiKSIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMTEuMDUgNS45NWExLjIgMS4yIDAgMCAxIDEuMi0xLjJIMTZhMTEuMjIgMTEuMjIgMCAwIDEgOC4yNDggMy42SDExLjA1di0yLjRabTAgOC4yNWgxNi4wNTdhMTEuMzM3IDExLjMzNyAwIDAgMSAwIDMuNkgxMS4wNXYtMy42Wm0wIDkuNDV2Mi40YTEuMiAxLjIgMCAwIDAgMS4yIDEuMkgxNmExMS4yMiAxMS4yMiAwIDAgMCA4LjI0OC0zLjZIMTEuMDVaIiBmaWxsPSIjZmZmIi8+PHBhdGggb3BhY2l0eT0iLjYiIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNi44MzQgOS40NzVhMTEuMjAxIDExLjIwMSAwIDAgMC0xLjcgMy42aDIxLjczMmExMS4yMDIgMTEuMjAyIDAgMCAwLTEuNy0zLjZINi44MzNabTAgMTMuMDVhMTEuMjAzIDExLjIwMyAwIDAgMS0xLjctMy42aDIxLjczMmExMS4yMDUgMTEuMjA1IDAgMCAxLTEuNyAzLjZINi44MzNabTkuMTQ4IDQuNzI1aC4wMzUtLjAzNVoiIGZpbGw9IiNmZmYiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwIiB5MT0iMCIgeDI9IjM5LjE3MiIgeTI9IjEwLjg2IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agc3RvcC1jb2xvcj0iIzNDRUFBQSIvPjxzdG9wIG9mZnNldD0iLjc3MSIgc3RvcC1jb2xvcj0iIzVDNzJGRiIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IGlkPSJiIiB4MT0iMCIgeTE9IjAiIHgyPSIzOS4xNzIiIHkyPSIxMC44NiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiMzQ0VBQUEiLz48c3RvcCBvZmZzZXQ9Ii43NzEiIHN0b3AtY29sb3I9IiM1QzcyRkYiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4="}),(0,q.jsxs)("div",{className:j()(aa.titleLabel,p()({},aa.longColor,b)),children:[null==M?void 0:M.name," ",b?"LONG":"SHORT"]})]}),(0,q.jsxs)("div",{className:aa.changeInfo,children:[(0,q.jsxs)(la,{className:"".concat(aa.changeInfoText," c200 f16 fw3 tc"),children:["Pay ",z.display({prefix:""})," USDC (",z.display(),")"]}),(0,q.jsx)("div",{children:(0,q.jsx)(Ur,{className:j()(aa.arrowIcon,{cLong:b})})}),(0,q.jsxs)(la,{className:"".concat(aa.changeInfoText," c200 f16 fw3 tc"),children:[b?"Long":"Short"," ","".concat((0,te.dp)(P,4).display({prefix:"",suffix:" ".concat(w)})," "),"(",(0,te.dp)(a).display(),")"]})]})]}),E&&(0,q.jsx)("div",{className:aa.tip,children:E}),(0,q.jsxs)("div",{className:aa.fields,children:[(R||[]).map((function(e){var n=e.display,t=e.showCoinBased,i=e.suffix,r=e.prefix,a=e.label;return(0,q.jsxs)("div",{className:aa.field,children:[(0,q.jsx)("div",{className:aa.label,children:(0,q.jsx)(Ze._H,{id:a})}),(0,q.jsx)(ra,{suffix:i,symbolPrefix:r,hasExistingPosition:g,priceDisplay:t?A(n):n})]},a)})),(0,q.jsx)(Li,{isLimit:!0,executionFee:T,positionFee:u,fees:Number(u)>=0&&Number(T)>=0?null===(r=+u+ +T)||void 0===r?void 0:r.toString():"-"}),(0,q.jsxs)("div",{className:aa.field,children:[(0,q.jsx)("div",{className:aa.label,children:(0,q.jsx)(Ze._H,{id:"Funding Fee"})}),(0,q.jsx)("div",{className:aa.value,children:(0,q.jsx)("div",{className:aa.new,children:"".concat(x||"-")})})]}),(0,q.jsx)("div",{className:aa.cut}),(0,q.jsxs)("div",{className:aa.field,children:[(0,q.jsx)("div",{className:aa.label,children:(0,q.jsx)(Ze._H,{id:"Entry Price"})}),(0,q.jsx)(ra,{hasExistingPosition:g,priceDisplay:L})]}),(0,q.jsxs)("div",{className:aa.field,children:[(0,q.jsx)("div",{className:aa.label,children:(0,q.jsx)(Ze._H,{id:"Liq. Price"})}),(0,q.jsx)(ra,{hasExistingPosition:g,priceDisplay:s})]}),(0,q.jsx)("div",{className:aa.cut}),(0,q.jsxs)("div",{className:aa.field,children:[(0,q.jsx)("div",{className:aa.label,children:(0,q.jsx)(Ze._H,{id:"Type"})}),(0,q.jsx)("div",{className:aa.value,children:(0,q.jsx)("div",{className:aa.new,children:_?"Market":"Limit"})})]}),(0,q.jsxs)("div",{className:aa.field,children:[(0,q.jsx)("div",{className:aa.label,children:(0,q.jsx)(Ze._H,{id:"Spread"})}),(0,q.jsx)("div",{className:aa.value,children:(0,q.jsxs)("div",{className:aa.new,children:[O,"%"]})})]}),(0,q.jsxs)("div",{className:aa.field,children:[(0,q.jsx)("div",{className:aa.label,children:(0,q.jsx)(Ze._H,{id:"Slippage"})}),(0,q.jsx)("div",{className:aa.value,children:(0,q.jsxs)("div",{className:aa.new,children:[l,"%"]})})]})]}),(0,q.jsx)(tt.Z,{disabled:h,size:"large",className:aa.submitBtn,onClick:k,children:function(){if(!h){false;var e=_?b?"Long":"Short":"Create Order";return _&&ae.bD>0?"Accept minimum and ".concat(e):e}return _?b?"Longing...":"Shorting...":"Creating Order..."}()})]})})},oa=t(76327),ca=(t(41429),{input:"input___AVy3r",wrapper:"wrapper___O0YtS",var:"var___AJ6Gk",flex:"flex___PvPjK",max:"max___TS1Rv"}),ua=function(e){var n=e.label,t=e.placeholder,i=void 0===t?"0.0":t,r=e.children,a=e.disabled,l=e.className,s=e.decimals,o=void 0===s?18:s,c=e.onChange,u=e.value,d=e.max,p=function(e){if(c){var n=new RegExp("^\\D*(\\d*(?:\\.\\d{0,".concat(o,"})?).*$"),"g"),t=e.replace(n,"$1");d&&+t>+d&&(t=d),c(t)}};return(0,q.jsxs)("div",{className:j()(ca.input,l),children:[n&&(0,q.jsx)("div",{className:ca.label,children:n}),(0,q.jsxs)("div",{className:ca.wrapper,children:[(0,q.jsx)("input",{type:"text",value:u,disabled:a,onChange:function(e){p(e.target.value)},placeholder:i}),r]})]})},da=ua,pa={header:"header___TC62F",inputNumber:"inputNumber___Y7Id3",notActionInput:"notActionInput___xCiG2",field:"field___SKQvO",value:"value___ZPyQn",leverage:"leverage___DJlMu",multiple:"multiple___TgITL",customInput:"customInput___vG08t",leverageInputBox:"leverageInputBox___xKTLL",item:"item___kY23e",active:"active___NJOgJ",sliderBox:"sliderBox___OugRQ",slider:"slider___JsDOm"},va=["10","20","50","100"],ma={2:{label:"2x",style:{color:"#fff",fontSize:"14px"}},100:{label:"100x",style:{color:"#fff",fontSize:"14px"}}},fa=function(e){var n=e.onChange,t=e.value,i=(0,o.useState)(!1),r=l()(i,2),a=r[0],s=r[1],c=(0,o.useState)(t),u=l()(c,2),d=u[0],v=u[1],m=(0,o.useState)(t),f=l()(m,2),y=f[0],x=f[1],g=(0,le.Ju)(["depx-swap-leverage-useinput-lev"],!1,{raw:!1,serializer:function(e){return String(e)},deserializer:function(e){return"true"===e}}),h=l()(g,2),_=h[0],b=h[1],N=!1===Boolean(_);return(0,o.useEffect)((function(){n(_?d:y)}),[_,d,y]),(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:pa.header,children:[(0,q.jsxs)("div",{className:pa.field,children:[(0,q.jsx)("div",{className:pa.label,children:"Leverage: "}),a?(0,q.jsxs)("div",{className:pa.value,style:{color:d?"#fff":"#9597b5"},children:[a?d:"2x to 100","x"]}):(0,q.jsxs)("div",{className:pa.value,style:{color:"#9597b5"},children:[hi.ak,"x to ",hi.cZ,"x"]})]}),(0,q.jsx)(et,{checked:a,onChange:s})]}),a?(0,q.jsx)("div",{className:pa.sliderBox,children:(0,q.jsx)(oa.Z,{value:Number(d),railStyle:{opacity:.2,background:"linear-gradient(105.49deg, #3CEAAA 0%, #5C72FF 79.56%)"},onChange:function(e){b(!0),v(String(e))},className:pa.slider,min:2,max:100,marks:ma,step:.1})}):(0,q.jsxs)("div",{className:"".concat(pa.leverageInputBox," df"),children:[(0,q.jsx)("div",{className:pa.inputNumber,children:(0,q.jsx)(da,{placeholder:"0.0x",decimals:2,value:t,onChange:function(e){return n(e)},className:j()(pa.customInput,p()({},pa.notActionInput,N))})}),va.map((function(e){return(0,q.jsx)("div",{children:(0,q.jsx)("div",{onClick:function(){b(!1),x(e),v(e)},className:j()(pa.item,p()({},pa.active,N&&e===y)),children:"".concat(e,"x")},e)},e)}))]})]})},ya="row___Uz93f",xa="sizeTitle___vazQJ",ga="size___nJ4HO",ha="value___tOPpv",_a="field___wY44N",ba="label___k2mEs",ja=function(e){var n=e.size,t=e.tradeShowArgs,i=e.displayDecimals;return(0,q.jsxs)("div",{className:ya,children:[(0,q.jsx)(Sn.Z,{getPopupContainer:function(e){return e.parentElement},overlay:(0,q.jsxs)("div",{children:[(0,q.jsx)("div",{className:xa,children:"Size"}),(0,q.jsx)(Ze._H,{id:"Trading units using stable coins in DEI such as USD, open position amounts shown are calculated based on the actual coin quantity. Values change with the last price of the symbol."})]}),children:(0,q.jsx)("div",{className:"".concat(_a," ").concat(ga),children:(0,q.jsx)("div",{className:ha,children:(0,q.jsx)(Wt.Z,{value:n,displayDecimals:i,prefix:"Size: ",defaultValueIncludeSuffix:!0,defaultValue:"-"})})})}),(0,q.jsxs)("div",{className:_a,children:[(0,q.jsx)("div",{className:ba,children:"Balance:"}),(0,q.jsx)("div",{className:ha,children:(0,q.jsx)(Wt.Z,{value:null==t?void 0:t.avlb,displayDecimals:hi.C1,suffix:" USDC",defaultValue:"-"})})]})]})},Na=Object.defineProperty,Pa=Object.getOwnPropertySymbols,wa=Object.prototype.hasOwnProperty,La=Object.prototype.propertyIsEnumerable,Ta=(e,n,t)=>n in e?Na(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const Ca=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))wa.call(n,t)&&Ta(e,t,n[t]);if(Pa)for(var t of Pa(n))La.call(n,t)&&Ta(e,t,n[t]);return e})({width:8,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"m7.2 6-3.224 4.8L.8 6h6.4Z",fill:"#fff"}));var Sa=t(66133),ka=t(4051),Fa=t(40883),Ia=Object.defineProperty,Ma=Object.getOwnPropertySymbols,Da=Object.prototype.hasOwnProperty,Oa=Object.prototype.propertyIsEnumerable,Aa=(e,n,t)=>n in e?Ia(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const Ea=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))Da.call(n,t)&&Aa(e,t,n[t]);if(Ma)for(var t of Ma(n))Oa.call(n,t)&&Aa(e,t,n[t]);return e})({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"m10 12.586 4-4 5.707 5.707L22 12v6h-6l2.293-2.293L14 11.414l-4 4-7.707-7.707 1.414-1.414L10 12.586Z",fill:"#F44364"}));var Ra=Object.defineProperty,za=Object.getOwnPropertySymbols,Qa=Object.prototype.hasOwnProperty,Za=Object.prototype.propertyIsEnumerable,Ba=(e,n,t)=>n in e?Ra(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const Ha=e=>o.createElement("svg",((e,n)=>{for(var t in n||(n={}))Qa.call(n,t)&&Ba(e,t,n[t]);if(za)for(var t of za(n))Za.call(n,t)&&Ba(e,t,n[t]);return e})({width:24,height:24,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{d:"m10 12.414 4 4 5.707-5.707L22 13V7h-6l2.293 2.293L14 13.586l-4-4-7.707 7.707 1.414 1.414L10 12.414Z",fill:"#fff"}));var Va="tabList___tBaZk",qa="tabLong___XF_Z3",Ua="tabShort___Ju2CX",Ja="selected___F6KGR",Ya="label___J09Cx",Ga=function(e){var n=e.isLong,t=e.onClickSwapOption;return(0,q.jsxs)("div",{className:Va,children:[(0,q.jsxs)("div",{className:j()(qa,p()({},Ja,n)),onClick:function(){t(ae.FB)},children:[(0,q.jsx)(Ha,{}),(0,q.jsx)("div",{className:Ya,children:"Long"})]}),(0,q.jsxs)("div",{className:j()(Ua,p()({},Ja,!n)),onClick:function(){t(ae.Qo)},children:[(0,q.jsx)(Ea,{}),(0,q.jsx)("div",{className:Ya,children:"Short"})]})]})},Ka="field___lFCUO",Wa="label___Ut9cW",Xa="value___TeWjD",$a=function(e){var n,t=e.liqPriceDisplay,i=e.entryPriceDisplay,r=e.hasExistingPosition,a=e.fundingFee,l=e.availableLiquidity,s=e.positionFee,o=e.executionFee;return(0,q.jsxs)("div",{children:[(0,q.jsxs)("div",{className:Ka,children:[(0,q.jsx)("div",{className:Wa,children:"Entry Price"}),(0,q.jsx)(ra,{hasExistingPosition:r,priceDisplay:i})]}),(0,q.jsxs)("div",{className:Ka,children:[(0,q.jsx)("div",{className:Wa,children:"Liq. Price"}),(0,q.jsx)(ra,{hasExistingPosition:r,priceDisplay:t})]}),(0,q.jsx)(Li,{isLimit:!0,executionFee:o,positionFee:s||"-",fees:Number(s)>=0&&Number(o)>=0?null===(n=+s+ +o)||void 0===n?void 0:n.toString():"-"}),(0,q.jsxs)("div",{className:Ka,children:[(0,q.jsx)("div",{className:Wa,children:"Funding Fee"}),(0,q.jsx)("div",{className:Xa,children:a||"-"})]}),(0,q.jsxs)("div",{className:Ka,children:[(0,q.jsx)("div",{className:Wa,children:"Available Liquidity"}),(0,q.jsx)("div",{className:Xa,children:(0,q.jsx)(Wt.Z,{value:l,displayDecimals:2,prefix:"$"})})]})]})},el="select___XVRcq",nl="hideScrollbar___eZprT",tl="tradeBar___CpLnN",il="largeInput___KTQTS",rl="panel___lJHih",al="advancedContainer___zGmgl",ll="cut___YHMHw",sl="submitBtn___zk5iO",ol="itemOptions___NCHkr",cl="itemOption___ybDq9",ul="inputTheme___FUS6X",dl="marketSelect___N08AL",pl="itemLabel___VR9Ak",vl="formContainer___t8ADz",ml=(0,oe.Ij)().isWindows,fl=function(e){var n,t=e.indexPrice,i=e.tradeShowArgs,a=e.orderOption,d=e.swapOption,v=e.onChangeSwapOption,f=e.onChangOrderOption,y=(0,c.FV)(Ye),x=l()(y,2),g=x[0],h=x[1],_=(0,s.Ge)(),b=_.active,N=_.chainId,P=_.account,w=(0,xi.eI)(N,P).userReferrerCode,L=(0,c.sJ)(ce.bI),T=(0,c.sJ)(Ge),C=(0,o.useState)(!1),S=l()(C,2),k=S[0],F=S[1],I=(0,o.useState)(t),M=l()(I,2),D=M[0],O=M[1],A=(0,o.useState)(!1),E=l()(A,2),R=E[0],z=E[1],Q=a===ae.YO,Z=d===ae.FB,B=(0,o.useState)(!1),H=l()(B,2),V=H[0],U=H[1],J=(0,o.useState)(!0),Y=l()(J,2),G=Y[0],K=Y[1],W=(0,o.useState)(""),X=l()(W,2),$=X[0],ee=X[1],ne=(0,o.useState)(""),ie=l()(ne,2),re=ie[0],se=ie[1],oe=Ee.I.useContainer(),ue=oe.setWalletVisible,de=oe.isIpad,pe=(0,c.sJ)(en),ve=(0,o.useState)(),me=l()(ve,2),fe=me[0],ye=me[1],xe=Ee.I.useContainer().setPendingTxns,ge=null==i?void 0:i.openFeeRate,he=null==i?void 0:i.executionFee,_e=null==i?void 0:i.market,be=null==_e?void 0:_e._valid.maxLev,je=null==i?void 0:i.symbol,Ne=Q?t:D,Pe=(null==i||null===(n=i.market)||void 0===n?void 0:n.getTokenDigits())||18,we=Ee.I.useContainer(),Le=we.tableFlag,Te=we.setTableFlag;(0,o.useEffect)((function(){!fe&&i&&ye({takeProfit:null==i?void 0:i.takeProfit,stopLoss:null==i?void 0:i.stopLoss,slippage:null==i?void 0:i.slippage})}),[null==i?void 0:i.takeProfit,null==i?void 0:i.stopLoss,null==i?void 0:i.slippage]);var Se=(0,zr.Z)(Object.create(null)),ke=l()(Se,2),Fe=(ke[0],ke[1]),Ie=Fe.set,Me=(0,Fe.get)(P);(0,o.useEffect)((function(){!Me&&P&&null!=i&&i.market&&i.market.allowance(P).then((function(e){Ie(P,e&&e.gt&&e.gt(0))}))}),[null==i?void 0:i.market,P,Me]);var De=(0,o.useMemo)((function(){if(L&&pe&&pe.length>0){var e="".concat(Z?"Long":"Short");return pe.find((function(n){return n.pair===L.name&&n.account===P&&n.side===e}))}return null}),[pe,Z,L]);(0,o.useEffect)((function(){K(!0),ee("")}),[Q,Z]);var Oe=(0,o.useMemo)((function(){return Boolean(De&&De.size&&(0,te.Q6)(De.size).gt(0))}),[De]),Re=(0,u.ZP)((function(){return P&&null!=L&&L.address?[P,null==L?void 0:L.address]:null}),(function(){var e;return null==i||null===(e=i.reader)||void 0===e?void 0:e.availableLiquidity(P,L.address,Z)})).data,ze=(0,o.useMemo)((function(){return null==i?void 0:i.market.formatNum(Re,2)}),[Re]),Qe=o.useRef(),Be=(0,u.ZP)((function(){return null!=i&&i.market?i:null}),(function(){return Ae.getFundFeeRete(i,Z)})).data,He=(0,o.useState)((0,le.rI)(le.ZK,"10")),Ve=l()(He,2),qe=Ve[0],Ue=Ve[1];function Je(){if(!Ke)return!1;var e=(0,te.Q6)(Re);return!!Ke.gt(e)&&{id:"MAXExceeded",values:{toSymbol:je,pos:Z?"long":"short"}}}var Ke=(0,o.useMemo)((function(){if($)return Ae.getSize((0,te.Q6)($),(0,te.Q6)(ge||"0"),Number(qe))}),[$,qe,ge]);(0,Qr.Z)((function(){var e=(0,te.Q6)(Ne),n=(0,te.Q6)(ge||"0");if(G)return $?void function(e){var n=(0,te.Q6)(Ne),t=(0,te.Q6)(ge||"0");if(e){var r=Ae.getNextAmount((0,te.Q6)($),n,t,Number(qe));se((0,te.dp)(r,18,"0").value)}else se((0,te.dp)(Ke,i.ctokenDecimals,"0").value)}(T):void se("");if(re&&qe&&0!==Number(Ne))if(T){var t=(0,te.dp)(Ae.getNextPay((0,te.Q6)(re),e,n||(0,te.Q6)(0),Number(qe)),8).value;ee(t)}else ee(Ae.getPayBySize((0,te.Q6)(re),n,Number(qe)).toFixed(8,1));else ee("")}),400,[i,re,Ke,g,G,qe,ge,$]);var We=(0,o.useMemo)((function(){return(0,te.Q6)(Q?0:he)}),[Q,he]),Xe=(0,o.useMemo)((function(){var e=(0,te.Q6)(ge||0);if(void 0!==Ke){var n,t=Ae.getOpenFee(Ke,e),r=(0,te.Q6)(Ne),a=(0,te.Q6)($),l=(0,te.Q6)(null!==(n=null==i?void 0:i.cleanFee)&&void 0!==n?n:"0"),s=Ae.getEntryPriceDisplay(r,Ke,Z,De);if($&&qe&&Ne){var o=Ae.getConfirmStat({size:Ke,leverageOption:Number(qe),executionFee:We,entryPrice:s.mergePositionPrice,existingPosition:De,positionFeeRate:(0,te.Q6)(ge||0),hasExistingPosition:Oe,pay:a,openFee:t,cleanFee:l}),c=o.getCollateralDisplay(),u=(0,te.Q6)((null==be?void 0:be.toNumber())||100),d=o.getLigPriceDisplay(s.mergePositionPrice,u,Z,e),p=o.getNextSizeDisplay(),v=o.getLeverageDisplay();return{entryPriceDisplay:s,openFee:(0,te.dp)(t,2).value,liqPriceDisplay:d,collateralDisplay:c,leverageDisplay:v,positionSizeDisplay:p}}}return{}}),[$,Ke,be,De,Ne,re,he,Z,Q,qe,ge]),$e=Xe.openFee,nn=Xe.liqPriceDisplay,tn=Xe.collateralDisplay,rn=Xe.leverageDisplay,an=Xe.positionSizeDisplay,ln=Xe.entryPriceDisplay,sn=function(){if(k)return[(0,q.jsx)(Ze._H,{id:"Approving..."}),!0];if(R)return["".concat(Z?"Long":"Short"," ").concat(je),!0];if(!b)return[(0,q.jsx)(Ze._H,{id:"Connect wallet"}),!1];if(!Me)return[(0,q.jsx)(Ze._H,{id:"Approve"}),!1];if(!(0,ka.EC)(N))return[(0,q.jsx)(Ze._H,{id:"Incorrect network"}),!0];var e=function(){if(!(Q||D&&"0"!==D))return(0,q.jsx)(Ze._H,{id:"Enter a price"});if(!Ne)return(0,q.jsx)(Ze._H,{id:"Enter a price"});var e=(0,te.Q6)(Ne);if(e.eq(0))return(0,q.jsx)(Ze._H,{id:"Enter a price"});if(!Q){if(Z&&e.gt((0,te.Q6)(t)))return(0,q.jsx)(Ze._H,{id:"Price above current price"});if(!Z&&e.lt((0,te.Q6)(t)))return(0,q.jsx)(Ze._H,{id:"Price below current price"})}if(!re||(0,te.Q6)(re).eq(0))return(0,q.jsx)(Ze._H,{id:"Enter an amount"});var n=(0,te.Q6)($);if(n.eq(0))return(0,q.jsx)(Ze._H,{id:"Enter an amount"});if(n.gt((0,te.Q6)((null==i?void 0:i.avlb)||$)))return(0,q.jsx)(Ze._H,{id:"Insufficient USDC balance"});if(n.lt(hi.E4))return(0,q.jsx)(Ze._H,{id:"MinPayUSD",values:{min:hi.E4}});if(n.gt(hi._h))return(0,q.jsx)(Ze._H,{id:"MaxPayUSD",values:{max:hi._h}});var r=Je();if(r)return(0,q.jsx)(Ze._H,m()({},r));var a=hi.cZ;if(Number(qe)>a)return(0,q.jsx)(Ze._H,{id:"MAXLeverage",values:{max:a}});if(Number(qe)<hi.ak)return(0,q.jsx)(Ze._H,{id:"MinLeverage",values:{min:hi.ak}});if(null!=fe&&fe.stopLoss){var l=(0,te.Q6)(fe.stopLoss);if(Z&&l.gte(e))return(0,q.jsx)(Ze._H,{id:"Stop loss above current price"});if(!Z&&l.lte(e))return(0,q.jsx)(Ze._H,{id:"Stop loss below current price"});if(Z&&null!=nn&&nn.mergePositionPrice&&l.lte(nn.mergePositionPrice))return(0,q.jsx)(Ze._H,{id:"Stop loss below liq.Price"});if(!Z&&null!=nn&&nn.mergePositionPrice&&l.gte(nn.mergePositionPrice))return(0,q.jsx)(Ze._H,{id:"Stop loss above liq.Price"})}if(null!=fe&&fe.takeProfit){var s=(0,te.Q6)(fe.takeProfit);if(Z&&s.lte(e))return(0,q.jsx)(Ze._H,{id:"Take profit below current price"});if(!Z&&s.gte(e))return(0,q.jsx)(Ze._H,{id:"Take profit above current price"});if(Z&&null!=nn&&nn.mergePositionPrice&&s.lte(nn.mergePositionPrice))return(0,q.jsx)(Ze._H,{id:"Take profit below liq.Price"});if(!Z&&null!=nn&&nn.mergePositionPrice&&s.gte(nn.mergePositionPrice))return(0,q.jsx)(Ze._H,{id:"Take profit above liq.Price"})}if(null!=fe&&fe.slippage){if(Number(fe.slippage)>hi.j2)return(0,q.jsx)(Ze._H,{id:"Slippage should be less than ".concat(hi.j2,"%")});if(Number(fe.slippage)<hi.JB)return(0,q.jsx)(Ze._H,{id:"Slippage should be more than ".concat(hi.JB,"%")})}return""}();return e?[e,!0]:je?Q?["".concat(Z?"Long":"Short"," ").concat(je),!1]:[(0,q.jsx)(Ze._H,{id:"Create limit order"}),!1]:[(0,q.jsx)(Ze._H,{id:"Create"}),!1]}(),on=l()(sn,2),cn=on[0],un=on[1],dn=(0,o.useMemo)((function(){return[null!=fe&&fe.takeProfit&&void 0!==Ke?(0,te.dp)(Ae.getEstimatedPNL({isLong:Z,entryPrice:(0,te.Q6)(Ne),price:(0,te.Q6)(null==fe?void 0:fe.takeProfit),size:Ke}),2).value:"",null!=fe&&fe.stopLoss&&void 0!==Ke?(0,te.dp)(Ae.getEstimatedPNL({isLong:Z,entryPrice:(0,te.Q6)(Ne),price:(0,te.Q6)(null==fe?void 0:fe.stopLoss),size:Ke}),2).value:""]}),[null==fe?void 0:fe.takeProfit,null==fe?void 0:fe.stopLoss,Z,Ke,Ne]),pn=l()(dn,2),vn=pn[0],mn=pn[1],fn=(0,o.useMemo)((function(){return Be?(Qe.current="".concat(Ae.getFundFeeRateDisplay(Be,Z),"%/1 h"),Qe.current):Qe.current||"-"}),[Be,Z]),yn=(0,o.useMemo)((function(){return[{value:"USD",label:"USD"},{value:je,label:je}]}),[je]);return(0,q.jsxs)("div",{className:j()(tl,p()({},nl,ml)),children:[(0,q.jsx)(sa,{size:null==Ke?void 0:Ke.toFixed(2,1),entryPriceDisplay:ln,slippage:(null==fe?void 0:fe.slippage)||"0",tradeShowArgs:i,positionFee:$e,liqPriceDisplay:nn,collateralDisplay:tn,leverageDisplay:rn,positionSizeDisplay:an,fundingFee:fn,isPendingConfirmation:R,existingPosition:De,hasExistingPosition:Oe,toSymbol:je,fromValue:$,onClickSubmit:function(){if(b){if(!R&&P&&Ne){var e=Je();if(e)return void Fa.U.error((0,q.jsx)(Ze._H,m()({},e)));z(!0),function(e,n,t,i,r,a){if(i.market){var l={isLimit:i.isLimit,payDelta:i.market.getNumDecimals(i.pay),sizeDelta:i.market.getNumDecimals(i.size),price:i.market.getPriceDecimals(i.price),tpPrice:i.market.getPriceDecimals(i.takeProfit||"0"),slPrice:i.market.getPriceDecimals(i.stopLoss||"0"),slippage:i.market.getSlippageDecimals(i.market.formatPercentage(i.slippage)),isLong:i.isLong,isExec:!1,isKeepLev:!1,account:n};return console.log("[confirmSwap]  ",l),i.market.setChainId(e),i.market.setPendingTxns(r),i.market.increaseTrade(l,t,i.market.parseNumber(i.pay,i.ctokenDecimals),a)}return Promise.reject()}(N,P,w,m()(m()(m()({},i),fe),{},{pay:$,isLimit:!Q,size:(0,te.dp)(Ke,i.ctokenDecimals||18).value,price:Ne,isLong:Z}),xe,(function(){z(!1)})).then((function(e){e||z(!1),Te(!Le),U(!1)})).catch((function(e){console.error(e),z(!1)}))}}else ue(!0)},isMarketOrder:Q,isLong:Z,chainId:N,visible:V,toValue:re,onClose:function(){U(!1)},executionFee:null==We?void 0:We.toString()}),(0,q.jsxs)("div",{className:vl,children:[(0,q.jsx)(Ga,{onClickSwapOption:function(e){e!==d&&(ye(m()(m()({},fe),{},{stopLoss:"",takeProfit:""})),O(""),v(e))},isLong:Z}),(0,q.jsxs)("div",{className:ol,children:[(0,q.jsxs)("div",{className:cl,children:[(0,q.jsx)("div",{className:pl,children:(0,q.jsx)(Ze._H,{id:"OrderType"})}),(0,q.jsx)(Sa.Z,{size:"large",className:dl,suffixIcon:(0,q.jsx)(Ca,{color:"#fff"}),onChange:function(e){a!==e&&(e!==ae.VZ||D&&"0"!==D||O(t),ye(m()(m()({},fe),{},{stopLoss:"",takeProfit:""})),f(e))},value:Q?ae.YO:ae.VZ,options:[{label:ae.YO,value:ae.YO},{label:ae.VZ,value:ae.VZ}]})]}),(0,q.jsxs)("div",{className:cl,children:[(0,q.jsx)("div",{className:pl,children:(0,q.jsx)(Ze._H,{id:"Price"})}),(0,q.jsx)(rt.ZP,{className:ul,disabled:Q,onChange:O,value:Ne,symbolVar:"USD",decimals:Pe})]})]}),(0,q.jsx)(rt.ZP,{label:"Amount",className:il,value:re,decimals:Pe,onChange:function(e){K(!1),se(e)},children:je&&(0,q.jsx)(Sa.Z,{size:"small",placement:"bottomLeft",showSearch:!1,defaultValue:je,suffixIcon:(0,q.jsx)(Ca,{color:"#fff"}),getPopupContainer:function(e){return e.parentElement},dropdownMatchSelectWidth:100,className:el,value:g,onChange:function(e){h(e),0!==Number(re)&&K(!0)},options:yn})}),(0,q.jsx)(ja,{tradeShowArgs:i,displayDecimals:2,size:Ke}),(0,q.jsx)(rt.gp,{onClickMaxBtn:function(){K(!0),ee((null==i?void 0:i.avlb)||"0")},value:$,className:il,decimals:Pe,onChange:function(e){K(!0),ee(e)}}),(0,q.jsx)(fa,{value:qe,onChange:function(e){(0,le.py)(le.ZK,e),Ue(e)}}),(0,q.jsx)(tt.Z,{className:sl,disabled:un,size:"large",onClick:function(){if(b)if(Me)U(!0);else{F(!0);var e=(0,Ce._b)(Math.max(100*Math.pow(10,6),Number($)||1));null==i||i.market.approve(P,e,!0).then((function(e){var n=e;if(n.hash){var t={hash:n.hash,message:"USDC Approved!",callback:function(){Ie(P,!0),F(!1)}};xe((function(e){return[].concat(r()(e),[t])}))}else F(!1)})).catch((function(e){console.error(e),F(!1)}))}else ue(!0)},children:cn})]}),(0,q.jsx)("div",{className:rl,children:(0,q.jsxs)("div",{className:al,children:[(0,q.jsx)(wt,{tkpPNL:vn,stopLossPNL:mn,onChange:ye,value:fe,ifAll:!0,collect:de}),(0,q.jsx)("div",{className:ll}),(0,q.jsx)($a,{hasExistingPosition:Oe,positionFee:$e,fundingFee:fn,entryPriceDisplay:ln,availableLiquidity:ze,liqPriceDisplay:nn,executionFee:null==We?void 0:We.toString()})]})})]})},yl=function(){var e,n,t,i,a=(0,ie.x)().chainId,d=(0,s.Ge)(),p=d.account,v=d.library,m=Ee.I.useContainer().setPendingTxns,f=(0,o.useState)(ae.YO),y=l()(f,2),x=y[0],g=y[1],h=(0,o.useState)(ae.FB),_=l()(h,2),b=_[0],j=_[1],N=(0,c.sJ)(ce.O7),P=(0,c.sJ)(ce.tr),w=(0,c.sJ)(ce.bI),L=(null===(n=N[null===(e=(0,oe.do)(null==w?void 0:w.name))||void 0===e?void 0:e.toLowerCase()])||void 0===n||null===(t=n.indexPrice)||void 0===t?void 0:t.toFixed(2))||"0",T=(0,u.ZP)(null!=w&&w.address?[a,null==w?void 0:w.address,null==w?void 0:w.name,v,p]:null,(function(e){return Me.apply(void 0,[L,m].concat(r()(e)))})).data,C=(0,o.useMemo)((function(){return null==T?void 0:T.market}),[null==T||null===(i=T.market)||void 0===i?void 0:i._address]);return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:ze,children:[(0,q.jsx)(me,{indexPrice:L,markets:P||[],swapOption:b}),(0,q.jsx)(fl,{indexPrice:L,tradeShowArgs:T,swapOption:b,orderOption:x,onChangOrderOption:g,onChangeSwapOption:j})]}),(0,q.jsx)(Rr,{market:C,tradeShowArgs:T}),(0,q.jsx)(Re.a,{})]})}},97016:function(e,n,t){"use strict";t.d(n,{I:function(){return i},Q:function(){return r}});var i=20,r=1},26423:function(e,n,t){"use strict";t.d(n,{gp:function(){return d},tV:function(){return u},mU:function(){return p},ZP:function(){return v}});var i=t(86378),r=t.n(i),a=t(84875),l=t.n(a),s={input:"input___FmRXa",wrapper:"wrapper___FSDBG",var:"var___VCDiS",flex:"flex___gOhnV",max:"max___hao26"},o=t(62086),c=function(e){var n=e.label,t=e.symbolVar,i=e.children,r=e.disabled,a=e.className,c=e.decimals,u=void 0===c?18:c,d=e.onChange,p=e.value,v=e.max,m=function(e){if(d){var n=new RegExp("^\\D*(\\d*(?:\\.\\d{0,".concat(u,"})?).*$"),"g"),t=e.replace(n,"$1");v&&+t>+v&&(t=v),d(t)}};return(0,o.jsxs)("div",{className:l()(s.input,a),children:[n&&(0,o.jsx)("div",{className:s.label,children:n}),(0,o.jsxs)("div",{className:s.wrapper,children:[(0,o.jsx)("input",{type:"text",value:p,disabled:r,onChange:function(e){m(e.target.value)},placeholder:"0.0"}),t?(0,o.jsx)("div",{className:s.var,children:t}):i]})]})},u=function(e){return(0,o.jsx)(c,r()(r()({label:"Price"},e),{},{children:(0,o.jsx)("div",{className:s.var,children:"USD"})}))},d=function(e){var n=e.onClickMaxBtn,t=e.symbol;return(0,o.jsx)(c,r()(r()({label:"Pay"},e),{},{children:(0,o.jsxs)("div",{className:s.flex,children:[(0,o.jsx)("div",{className:s.max,onClick:n,children:"MAX"}),(0,o.jsx)("div",{className:s.var,children:null!=t?t:"USDC"})]})}))},p=function(e){return(0,o.jsx)(c,r()(r()({label:"Receive"},e),{},{children:(0,o.jsx)("div",{className:s.flex,children:(0,o.jsx)("div",{className:s.var,children:e.symbol})})}))},v=c},50927:function(e,n,t){"use strict";t.d(n,{r:function(){return c}});var i=t(93236),r=Object.defineProperty,a=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(e,n,t)=>n in e?r(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;const c=e=>i.createElement("svg",((e,n)=>{for(var t in n||(n={}))l.call(n,t)&&o(e,t,n[t]);if(a)for(var t of a(n))s.call(n,t)&&o(e,t,n[t]);return e})({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm.7-9V4.6H7.3V6h1.4Zm0 6V7.467H7.3V12h1.4Z",fill:"#797B96"}))},77912:function(e,n,t){var i={"./cancel.svg":15001,"./close.svg":7418,"./closing.png":45912,"./edit.svg":3900,"./loading.png":38746,"./mainorder.svg":39124,"./power.svg":77356,"./right_arrow.svg":98018,"./share.svg":91290,"./suborder.svg":46903,"./warningRed.svg":35047,"./warningYellow.svg":15595};function r(e){var n=a(e);return t(n)}function a(e){if(!t.o(i,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id=77912},15001:function(e,n,t){"use strict";e.exports=t.p+"static/cancel.faf5d99b.svg"},7418:function(e,n,t){"use strict";e.exports=t.p+"static/close.faf5d99b.svg"},3900:function(e,n,t){"use strict";e.exports=t.p+"static/edit.f1c66f25.svg"},39124:function(e,n,t){"use strict";e.exports=t.p+"static/mainorder.00c0076d.svg"},77356:function(e,n,t){"use strict";e.exports=t.p+"static/power.c7835c74.svg"},98018:function(e,n,t){"use strict";e.exports=t.p+"static/right_arrow.4b966293.svg"},91290:function(e,n,t){"use strict";e.exports=t.p+"static/share.17450885.svg"},46903:function(e,n,t){"use strict";e.exports=t.p+"static/suborder.d191e45f.svg"},35047:function(e,n,t){"use strict";e.exports=t.p+"static/warningRed.269e5a2a.svg"},15595:function(e,n,t){"use strict";e.exports=t.p+"static/warningYellow.3a511a3a.svg"},45912:function(e){"use strict";e.exports="data:image/png;base64,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"},38746:function(e){"use strict";e.exports="data:image/png;base64,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"}}]);