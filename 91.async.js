(self.webpackChunk=self.webpackChunk||[]).push([[91],{43711:function(e,r,t){"use strict";t.d(r,{g:function(){return n},k:function(){return a}});var n="https://blex.io/api/share",a="https://twitter.com/intent/tweet"},82226:function(e,r,t){"use strict";t.d(r,{T:function(){return G}});var n=t(17061),a=t.n(n),c=t(17156),o=t.n(c),i=t(27424),s=t.n(i),u=t(61120),l=t.n(u),d=t(67294),f=t(74855),p=t.n(f),j=t(3410),I=t(18237),h=t.n(I),M=t(58214),N=null;function y(){var e=(0,d.useState)(Boolean(N)),r=s()(e,2),t=r[0],n=r[1],c=(0,d.useState)(null),i=s()(c,2),u=i[0],l=i[1];function f(){return(f=o()(a()().mark((function e(){return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!N){e.next=4;break}console.log("IPFS already started"),e.next=15;break;case 4:return e.prev=4,e.next=7,(0,M.Ue)({repo:"ipfs"+Math.random()});case 7:N=e.sent,e.next=15;break;case 10:e.prev=10,e.t0=e.catch(4),console.error("IPFS init error:",e.t0),N=null,l(e.t0);case 15:n(Boolean(N));case 16:case"end":return e.stop()}}),e,null,[[4,10]])})))).apply(this,arguments)}(0,d.useEffect)((function(){return function(){f.apply(this,arguments)}(),function(){N&&N.stop&&(N.stop().catch((function(e){return console.error(e)})),N=null,n(!1))}}),[]);var p=function(){var e=o()(a()().mark((function e(r){var t,n;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,N.add(r);case 5:return t=e.sent,n=t.cid,e.abrupt("return",n.toString());case 10:e.prev=10,e.t0=e.catch(0),l(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(r){return e.apply(this,arguments)}}(),j=function(){var e=o()(a()().mark((function e(r){var t,n,c,o,i,s,u,l;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:t=new TextDecoder,n="",c=!1,o=!1,e.prev=6,s=h()(N.cat(r));case 8:return e.next=10,s.next();case 10:if(!(c=!(u=e.sent).done)){e.next=16;break}l=u.value,n+=t.decode(l,{stream:!0});case 13:c=!1,e.next=8;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),o=!0,i=e.t0;case 22:if(e.prev=22,e.prev=23,!c||null==s.return){e.next=27;break}return e.next=27,s.return();case 27:if(e.prev=27,!o){e.next=30;break}throw i;case 30:return e.finish(27);case 31:return e.finish(22);case 32:return e.abrupt("return",n);case 33:case"end":return e.stop()}}),e,null,[[6,18,22,32],[23,,27,31]])})));return function(r){return e.apply(this,arguments)}}();return{ipfs:N,isIpfsReady:t,ipfsInitError:u,getFileFromIPFSByCid:j,saveFileToIPFS:p}}var x=t(14597),m=t(77438),v=t(69499),g=t(22537),b=t(88469),w=t(43711),T=t(38416),S=t.n(T),z=t(84059),D=t(94184),L=t.n(D);Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var U="container___v5ZlU",k="header___v7PQj",C="hostText___WZOre",_="qrCodeContainer___JR9uF",A="referralCode___PcFmo",Z="rightInfo___H4h0R",V="rightInfoTitle___FIfm9",Y="highlight___DlwXa",R="rightInfoReferral___OYjUN",E="compact___yyCnV",P=t(85893),O=function(e){var r=e.children,t=(e.startTimestamp,e.referrerCode),n=e.headerExtra;return(0,P.jsxs)("div",{className:U,children:[(0,P.jsxs)("div",{className:k,children:[(0,P.jsx)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIwIiBoZWlnaHQ9IjMyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTg3Ljc1IDkxLjI1SDE2MEMxNjAgNjAuMTg3IDEzNi4zNzUgMzUgMTA3LjI1IDM1SDM1YzAgMzEuMDYzIDIzLjYyNSA1Ni4yNSA1Mi43NSA1Ni4yNVpNMTYwIDk3LjVIODcuNzVDNTguNjI1IDk3LjUgMzUgMTIyLjY4OCAzNSAxNTMuNzVoNzIuMjVjMjkuMTI1IDAgNTIuNzUtMjUuMTg4IDUyLjc1LTU2LjI1Wm01Mi43NSAwSDI4NWMwIDMxLjA2Mi0yMy42MjUgNTYuMjUtNTIuNzUgNTYuMjVIMTYwYzAtMzEuMDYyIDIzLjYyNS01Ni4yNSA1Mi43NS01Ni4yNVptMC02LjI1SDI4NUMyODUgNjAuMTg3IDI2MS4zNzUgMzUgMjMyLjI1IDM1SDE2MGMwIDMxLjA2MyAyMy42MjUgNTYuMjUgNTIuNzUgNTYuMjVabS0xMjUgMTMxLjI1SDE2MGMwLTMxLjA2Mi0yMy42MjUtNTYuMjUtNTIuNzUtNTYuMjVIMzVjMCAzMS4wNjIgMjMuNjI1IDU2LjI1IDUyLjc1IDU2LjI1Wm03Mi4yNSA2LjI1SDg3Ljc1QzU4LjYyNSAyMjguNzUgMzUgMjUzLjkzOCAzNSAyODVoNzIuMjVjMjkuMTI1IDAgNTIuNzUtMjUuMTg4IDUyLjc1LTU2LjI1Wm01Mi43NSAwSDI4NWMwIDMxLjA2Mi0yMy42MjUgNTYuMjUtNTIuNzUgNTYuMjVIMTYwYzAtMzEuMDYyIDIzLjYyNS01Ni4yNSA1Mi43NS01Ni4yNVptMC02LjI1SDI4NWMwLTMxLjA2Mi0yMy42MjUtNTYuMjUtNTIuNzUtNTYuMjVIMTYwYzAgMzEuMDYyIDIzLjYyNSA1Ni4yNSA1Mi43NSA1Ni4yNVoiIGZpbGw9InVybCgjYSkiLz48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIzNSIgeTE9IjE5LjM3NSIgeDI9IjI4NSIgeTI9IjI4NSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNGMkU2Q0YiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNCNTg4NEEiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=",alt:"logo",width:20,height:20}),(0,P.jsx)("span",{className:C,children:g.j$}),n||null]}),r,(0,P.jsxs)("div",{className:A,children:[(0,P.jsx)("div",{className:_,children:(0,P.jsx)(z.ZP,{value:t?g.R7+"?ref=".concat(t):g.qL,size:44})}),(0,P.jsx)("div",{className:Z,children:t?(0,P.jsxs)("div",{className:R+" df fdc",children:[(0,P.jsx)("span",{className:"f12 c100",children:"Referral Code:"}),(0,P.jsx)("span",{className:L()("f16 c200",S()({},E,t.length>10)),children:t})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:V,children:[(0,P.jsxs)("span",{children:[(0,P.jsx)("span",{className:Y,children:"De"}),"centralized"]}),(0,P.jsx)("span",{children:"Index Perpetual Exchange"})]}),(0,P.jsx)("span",{children:g.qL})," "]})})]})]})},F={root:"root___TBxd2",btns:"btns___kyVLh"},G=function(e){var r,t,n=e.title,c=e.width,i=void 0===c?560:c,u=e.downloadName,f=void 0===u?"download":u,I=e.type,h=void 0===I?"jpeg":I,M=e.children,N=e.content,T=e.coin,S=e.headerExtra,z=(0,x.Z)().data,D=(0,d.useState)(!1),L=s()(D,2),U=L[0],k=L[1],C=(0,d.useRef)(null),_=y().saveFileToIPFS,A=(null==z||null===(r=z.referralsDetails)||void 0===r||null===(t=r[0])||void 0===t?void 0:t.referralCode)||"",Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BTC",r=arguments.length>1?arguments[1]:void 0;return"Trade ".concat(e||"BTC"," and other top cryptocurrencies with up to 100x leverage directly from your wallet. ").concat(r?"".concat(g.R7,"?ref=").concat(r):g.qL,".")}(T,A),V=function(e){return"Trade ".concat(e||"BTC"," and other top cryptocurrencies with up to 100x leverage directly from your wallet. @").concat(g.j$.toLowerCase())}(T),Y=function(){var e=o()(a()().mark((function e(){var r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,l()(C.current);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=o()(a()().mark((function e(r){var t;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("a")).download="".concat(f,".").concat(h),t.href=r,t.click();case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),E=function(){var e=o()(a()().mark((function e(){var r;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:R(r.toDataURL());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=o()(a()().mark((function e(){var r,t,n,c,o,i;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",!A){e.next=6;break}t=g.R7+"?ref=".concat(A),r="".concat(w.k,"?text=").concat(V,"&url=").concat(encodeURIComponent(t)),e.next=23;break;case 6:return e.next=8,Y();case 8:if(n=e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,new Promise((function(e,r){return n.toBlob((function(r){return e(r)}))}));case 13:if(c=e.sent){e.next=16;break}return e.abrupt("return");case 16:return e.next=18,_(c);case 18:if(o=e.sent){e.next=21;break}return e.abrupt("return");case 21:i="".concat(w.g,"?cid=").concat(o),r="".concat(w.k,"?text=").concat(V,"&url=").concat(encodeURIComponent(i));case 23:window.open(r,"_blank");case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{className:F.sharePosterContainerRoot,onClick:function(){return k(!0)},children:M}),(0,P.jsxs)(v.Z,{title:n,width:i,visible:U,onClose:function(){return k(!1)},children:[(0,P.jsx)("div",{className:F.root,children:(0,P.jsx)("div",{ref:C,children:(0,P.jsx)(O,{headerExtra:S,referrerCode:A,children:N})})}),(0,P.jsxs)("div",{className:F.btns,children:[(0,P.jsx)(p(),{text:Z,onCopy:function(){return b.U.success("success")},children:(0,P.jsx)(m.Z,{type:"c20",children:(0,P.jsx)(j._H,{id:"Copy"})})}),(0,P.jsx)(m.Z,{type:"c20",onClick:E,children:(0,P.jsx)(j._H,{id:"Download"})}),(0,P.jsx)(m.Z,{type:"c20",onClick:G,children:(0,P.jsx)(j._H,{id:"Twitter"})})]})]})]})}},14597:function(e,r,t){"use strict";t.d(r,{Z:function(){return x}});var n,a=t(27424),c=t.n(a),o=t(42122),i=t.n(o),s=t(59400),u=t.n(s),l=t(17283),d=t(34713),f=t(67294),p=t(95591),j=t(77550),I=t(58926),h=t(24069),M=t(28722),N=(0,l.Ps)(n||(n=u()(["\n  query MyQuery($account: String!, $role: String, $referreeId: String) {\n    referralsSummaries(orderDirection: desc, where: { account: $account }) {\n      tradedVolume\n      totalTradersReferred\n      totalRebates\n      lastUpdateAt\n    }\n    referralsDetails(orderBy: timestamp, orderDirection: asc, where: { account: $account }) {\n      referralCode\n      tradedVolume\n      tradersReferred\n      totalRebates\n    }\n    referralsHistories(orderBy: tradeTime, orderDirection: desc, where: { id: $account }) {\n      tradeTime\n      amount\n      txHash\n    }\n    referralsSummary(id: $role) {\n      totalRebates\n      tradedVolume\n      totalTradersReferred\n    }\n    traderSummary: referralsSummary(id: $referreeId) {\n      totalRebates\n      tradedVolume\n      totalTradersReferred\n    }\n  }\n"]))),y=function(e){if(e)return i()(i()({},e),{},{tradedVolume:(0,h.tP)(null==e?void 0:e.tradedVolume,18)})};function x(){var e=(0,f.useState)(0),r=c()(e,2),t=r[0],n=r[1],a=(0,d.Ge)(),o=a.chainId,s=a.account,u=(0,M.eI)((0,M.x7)(o||I.rC)),l=(0,p.ZP)(["useReferralsData",s,t],(function(){return u.query({query:N,variables:{account:(s||"").toLowerCase(),role:"".concat(null==s?void 0:s.toLowerCase(),":referrer"),referreeId:"".concat(null==s?void 0:s.toLowerCase(),":referree")}}).then((function(e){var r;if(e.data){var t=null===(r=e.data.referralsDetails)||void 0===r?void 0:r.map((function(e){return i()(i()({},y(e)),{},{referralCode:(0,j.oE)(e.referralCode)})})),n=t.reduce((function(e,r){return e+r.tradersReferred}),0)||0;return{referralsSummaries:y(i()(i()({},e.data.referralsSummary),{},{totalTradersReferred:n}))||{},referralsDetails:t,referralsHistory:[],traderHistory:[],traderSummary:y(i()({},e.data.traderSummary))||{}}}})).catch(console.warn).finally((function(){}))}),{refreshInterval:5e3});return{data:l.data,loading:l.isLoading,reloadKey:t,setReloadKey:n}}},38478:function(e,r,t){"use strict";t.d(r,{r:function(){return u}});var n=t(67294),a=Object.defineProperty,c=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,s=(e,r,t)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;const u=e=>n.createElement("svg",((e,r)=>{for(var t in r||(r={}))o.call(r,t)&&s(e,t,r[t]);if(c)for(var t of c(r))i.call(r,t)&&s(e,t,r[t]);return e})({width:17,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.667 15a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm.7-9V4.6h-1.4V6h1.4Zm0 6V7.467h-1.4V12h1.4Z",fill:"#5F6671"}))},7420:function(){},95856:function(){},35883:function(){},52596:function(){},63897:function(){},62678:function(){},25819:function(){},81265:function(){},35539:function(){}}]);